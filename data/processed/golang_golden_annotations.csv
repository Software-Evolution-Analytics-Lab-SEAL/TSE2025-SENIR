team_domain,channel_name,month,start_date,end_date,conversation_id,number_of_messages,first_message_ts,conversavion_text,Whole Conversation Entity,Intent,LEARNING,DISCREPANCY,ERRORS,REVIEW,CONCEPTUAL,API_USAGE,API_CHANGE,Resolution,model_resolution_prediction,Unnamed: 20,Question Entity,APPLICATION,PROGRAMMING_LANGUAGE,VERSION,ALGORITHM,OPERATION_SYSTEM,DEVICE,ERROR_NAME,USER_NAME,DATA_STRUCTURE,DATA_TYPE,LIBRARY,LIBRARY_CLASS,USER_CLASS,LIBRARY_VARIABLE,USER_VARIABLE,LIBRARY_FUNCTION,USER_FUNCTION_NAME,FILE_TYPE,FILE_NAME,UI_ELEMENT,WEBSITE,ORGANIZATION,LICENSE,HTML_TAG_NAME,VALUE,IN_LINE_CODE,OUTPUT_BLOCK,KEYBOARD_INPUT
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2419,12,2020-07-25T04:59:02.889000,hello? do anyone knowpascal's triangle\\ i need to create one and me noob lol help? first waiting more than 30 seconds for a response will be endearing to people who might give you help second golang pascals triangle turned up a worthwhile result https://www.golangprograms.com/programingolanguagetoprintpascalstriangle.html I will do that google is your friend <programming language> <topic you\'re interested in>,,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2577,25,2020-07-30T18:32:57.003000,Hi there can anyone help me with a nil pointer exception? Bene scratching my head for a while https://goplay.space/#8uBLH277Enr man well first off webgl is perfectly fine honestly gopherjs is just javascript with extra steps damn i forgot gopherjs is a thing you still have to know how to write javascript I do? if you wanna use gopherjs I do know JavaScript though :Thonk: I just don't like dealing with it i'm so sorry @Ainsley you arent checking the error from newmigrate goja is nice too how do you know if `m` is valid you also arent checking the error from NewWithDatabaseInstance oof no setTimeout in a Go impl no less damn Thank you @Madxmike very much Fixing the error still yields a nil pointer ?ï¿½ï¿½ can you post the updated code Actually its working ?ï¿½ï¿½ï¿½ Thank you,,,0,0,1,0,0,0,0,,1,,,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,79,15,2019-11-04T11:04:39.670000,"Can thins channel be renamed to golang?? Golang is just the name of the website and people calling it golang isn't technically right \\o/ Open to hearing reasons against it godiscussion Sure With there being only a handful of channels I don't think there can be any confusion here. But lets hear what other people think None I don't see a reason to change it myself. but it could change to godiscussion I actually got confused which is the general or discussion chat when I joined this server Honestly to me it matters little what the channel is named I think it's okay either way. But we'll see what others think. Strictly speaking #golang should be renamed to #go because there is no language called golang; golang.org is just the name of the website `#go` much shorter ```Is the language called Go or Golang?The language is called Go. The golang moniker arose because the web site is golang.org not go.org which was not available to us. Many use the golang name though and it is handy as a label. For instance the Twitter tag for the language is #golang"". The language\'s name is just plain Go regardless.A side note: Although the official logo has two capital letters the language name is written Go not GO.```source: <https://tip.golang.org/doc/faq#go_or_golang> ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ it would be too unusual to see such short channel name speaking about people's perception (at least mine one)",,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,95,7,2019-11-05T10:35:53.020000,Generic golang / grpc question.Let's say I have 2 modules: REST HTTP api which communicates to enduser with REST style HTTP messages (json) Backend which does some connection to db and interacts with the API over protocolbuffers (grpc)Which of these modules should contain the .proto files? Don't the proto things push out .go files? First timing this grpc and learning as I go ?ï¿½ï¿½ï¿½ Yeah they do but when you have more then one API that uses the proto file in diffrent language then if you store it in a diffrent repo you wont have to update the API that holds the proto file for another API. Lets say golang API has the proto file v1. You have made a second nodejs API that needs a little mod in proto file. To do that you would need to update the golang API repo not just the proto file repo with the backward compatibility for golang API. So the best option is a seperate repo with proto so in an update you don;t have to update each API that uses the proto file. Protofile are easy to maintain backward compatibility on each file update. I'm also thinking about having a separate repo with proto files and on the API end try to marshal the requests / responses to json from pb variables This is hurting my brain ?ï¿½ï¿½ï¿½ Is this a bad pattern to follow in go? Say the `aumo` package is my main business logic but I want to split it down to more pieces. I'll be writing my models in the appropriate services and not in a `models` package. Could this lead to circular dependencies?,,,0,0,0,0,1,0,0,,0,,,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2460,29,2020-07-26T15:29:32.696000,"is someone using vscode?I just debugged and as I wanted to start a new debug session I get `could not launch process: not an executable file` I used for a long time and never had a problem ah works now nice now I just need to find out why one of my deps panic ?ï¿½ï¿½ï¿½ ```gopackage eventsimport ( reflect"")//Handler is event handler global statevar Handler Events = map[reflect.Type][]func(interface{}){}// Events is datastructure that supports event system. you // can register event responces and then trigger them all from// different placetype Events map[reflect.Type][]func(interface{})//On registers event responcefunc (e Events) On(kind interface{} task func(interface{})) { ev := e tp := reflect.TypeOf(kind) if _ ok := ev[tp]; !ok { ev[tp] = []func(interface{}){} } ev[tp] = append(ev[tp] task)}//Fire triggers all event responces for given eventfunc (e Events) Fire(kind interface{} event interface{}) { val ok := (e)[reflect.TypeOf(kind)] if !ok { return } for _ i := range val { i(event) }}``` is there better way to implement event system in go? I did some experiments with that ^ but used some heavy reflection had a map[reflect.Type].. stuff too @mlokis https://play.golang.org/p/Tfw1RfyuNsb Although I believe in most cases interfaces would work better perhaps or just type switches https://go2goplay.golang.org/p/nuQNtGqjNZ with generics (no more reflect.Call) easier than that? go chi gang ^ use go chi ok this isn't important but it confuses me I have this line: `for ok := true; ok; ok = renderer.EventWait() {` as it is it works but if I do `for renderer.EventWait() {` it doesn't work I think the loop just breaks yup am I missing anything here? does `for ok := true; ok` force the loop to iterate at least once? Yes The last part is evaluated at the end of every loop figured kinda wack tho",,,0,0,1,0,0,0,0,,1,,,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2189,53,2020-04-22T15:46:28.292000,"Hi there ```gotype ProfileForm struct { Name string `form:""name binding:""required""` Avatar multipart.FileHeader `form:""avatar binding:""required""`}router.POST(""/profile func(c gin.Context) { var form ProfileForm // in this case proper binding will be automatically selected if err := c.ShouldBind(&form); err != nil { c.String(http.StatusBadRequest bad request"") return } err := c.SaveUploadedFile(form.Avatar form.Avatar.Filename) if err != nil { c.String(http.StatusInternalServerError unknown error"") return } // db.Save(&form) c.String(http.StatusOK ok"") })```I\'m using Gin and have a file input in the html form which is image and optional.If I don\'t select any image for that input file `c.ShouldBind(&form)` give me following error:`&json.SyntaxError{msg:""unexpected end of JSON input Offset:0}` you didnt paste the error Edited just an accident Enter! Its fine if I put the image and it will be uploaded correctly but when its not provided show me that error i mean part of the problem is you're not doing anything with the error it\'s only an unknown error because you\'re literally IGNORING THE ERROR go is giving you I know what you are talking but first of all the aforementioned code is just a sample because I guess its somehow a bug or something wrong with Gin when you dont select an image well you can speculate or you can actaully print the error out and find out what's happening ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ ALSO if you don't show real code you can't get real help hi @everyone so there's that too please don't do that its me again greetings do not warrant alerting everyone in the server k we're happy to have you but not that happy ty i wanna ask man go ahead im new so im gonna ask a lot that's fine just don't @ everyone ok chill > deezy: we're happy to have you> deezy: but not that happyneeds to be pinned somewhere lol so i setup vscode and i tried println but it doesn't work also codes not being colorful did i do something wrong did you install the go language extension yes are you in a .go file how will i do that i just opened folder and tried save the file as a .go file like `main.go` hmm hold on it cant highlight syntax if it doesnt know what language you are writing it worked thanks dude also are you using println or fmt.println an unrelated tidbit: Go is perfectly readable without syntax highlighting The documentations don't have highlighting :robpike: fmt.Println okay cool",,,0,1,1,0,0,0,0,,0,,,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2317,7,2020-04-26T17:21:45.767000,how does one use local packages in go? say I want to have main package and a terminal package (or subpackage or whatever). go wiki only mentions vendoring but it's not that it's all my own code... `import <package name>/<subpoackage>` ok so it does have to live in a subfolder right? eh you can use a replace directive but what you're doing sounds like subpackages so yea,,,0,0,0,0,1,1,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2336,37,2020-04-27T03:24:00.895000,"hi hi Can someone help me? not if you don't present something with which you need help ?ï¿½ï¿½ï¿½ ?ï¿½ï¿½ï¿½ how to print gorountine anonymous func? None Those goroutines are not guaranteed to run before your main function exits Or at the very least not guaranteed to complete if i use channel? You could use a channel You just need something to make sure your program doesn't exit before all goroutines complete how would i do that? With channels or a `sync.WaitGroup` https://golang.org/pkg/sync/#WaitGroup and channel? You only need a channel if you want to send data between goroutines None ? That basically defeats the purpose of the goroutine yes is low The loop won't continue until it reads the value Which is basically the same as not using concurrency in that case Just use a waitgroup sync? `sync.WaitGroup` the thing I linked above None its work You could use a buffered channel too since you know how many times you'll send to it is that right then? I would just use a waitgroup though There's no reason you need to send the data out of the goroutine if you're just printing it You just need to wait for the goroutines to complete is because i need a method to get a response from the instant server multi threading ```doc err := goquery.NewDocumentFromReader(resp.Body) if err != nil { log.Fatal(err) } log.Print(doc.Find("".flproductsizeitem""))```I want to get the sizes button on that page: `https://www.footlocker.fr/fr/p/nikekyrie6hommechaussures78053?v=314101528504` @Doad okay?",,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2195,68,2020-04-22T20:05:08.875000,how can convert a slice to a []byte... i think something along these lines is close... https://play.golang.org/p/tx6wZHarb3j []byte is a slice lol a slice of bytes int slice `[]int` what's the format? do you want LE int64 of each of them? or do you want to cast it into bytes as is? LE int64 of each? yes... i think... in need a []byte to use with C.CBytes() and I am starting with an []int i am thinking if i get LE int64's aligned in memory a pointer to that can be cast back out in C... and C.CBytes() returns an unsafe.Pointer app just passed 10k users :sweats: wtf are you even doing feels XY man i am exporting a go function to c. i cant return a []int so i found C.CBytes which converts a []byte to a C array but i need to go from []int to []byte to use C.CBytes and then i can return the C array that is the plan at least... it may be a horrible one ?ï¿½ï¿½ï¿½ return int that's how you do arrays in C actually not int you can't return a go pointer that will panic at runtime no you return a C pointer maybe take in a `len int data int` ig or take in `uint` and return `int` ```type CSlice struct { len int data int}``` will it let u return that you cant return structs but you can return multiple values and it will generate a c struct in the header for you so just return that with multiple values idk if it will work how are you getting `int`. i dont think `&mySlice` is correct... &myslice is ptr to the slice if u want ptr to underlying array &myslice[0] i believe let me try that real quick... nope. that panics: `panic: runtime error: cgo result has a Go pointer` try `unsafe.Pointer(&slice[0])` btw idk if any of this breaks the go unsafe guidelines so u will have to check urself same panic does it want u to like malloc the data or soemthing idk i dont think you can bypass the rule of not returning a go pointer i barely used cgo so i have no idea what the compiler wants that is why i think i need to go from a []int to a []byte... because then there is a function available to make a C array link that function https://golang.org/cmd/cgo/#hdrGo_references_to_C search for C.CBytes you can return structs you just can't use the fields >The C array is allocated in the C heap using malloc. yeah so go probably dosent let u pass things heap allocated with go gc so u will probably have to malloc that slice idk if this is right yea you'll have to https://cdn.discordapp.com/attachments/361910177961738244/702624825000198165/Apr2220201600.jpg @SeungheonOh reeeee not using xmalloc @SeungheonOh hey that's what i told you to do but ok yw,,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,55,33,2019-11-03T06:04:47.209000,what would you suggest in case I would need to expose to another package some constants from another package? like my package `pkg` needs to export some `glfw` constants (e.g. key codes) give them uppercase names? that's the only way to export names so and I have to redefine 200 constants in my pkg? sounds like it use regex i mean yeah any good editor will let you do capitalize the first letter matching X pattern `:%s/const (^\\w)/const \\1/g` uhh How do you capitalize again I think that's for vim. i forget god bless Vim yes same (hold shift?) vim is a good editor yep used it to copy paste the constants just finished (hold shift and press key) It's `\\U\\1` Thanks vim fandom finished in 6 minutes not bad... at least I didn't rewrite them manually :vim: life others would make vim macros then batch apply it to lines a macro could work too and here I\'m like bruh just regex I use vscode because otherwise people think I'm hackerman there's a lot of options (even with nano),,,1,0,0,0,0,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2319,62,2020-04-26T18:16:42.456000,"Hi! Writing code generator and need to know in which module package is. Is there some way to detect module name? Just find up to dir go.mod and parse it? Or some methods exists for it? why do you want this https://github.com/therealfakemoot/gocollections anyways if you do genuinely need this make the user pass it as a flag no magic magic is bad is there a way to easily get the size of a byte slice in b kb mb etc? And what is dangerous if i walk up to directory where is `go.mod` stored and get package name from go.mod? If it not found  so panic... it's generating code for an entirely different module look into runtime/debug too so unless you explicitly tell it what module you're generating it for the best you can do is guess and pkger In my case it generates for itself. In module I write domain logic and generator create a lot of stuff based on domainspecific stuf... But create it in another folder in same project. okay then in that case you already know the name of the module because you did `go mod init whatever` so just use that Yes thanx taking a look into markbates/pkger I've been writing some small programming challenges to get used to golang std lib. I've written a stdin input reader where first input is length of array of items given on 2nd line of stdin and i want to cast 2nd line items into single slice. Am I doing it right? What can be improved? ```golangfunc main() { var n int _ err := fmt.Scan(&n) if err != nil { panic(err) } k := make([]int 0 n) var tmp int for i := 0; i < n; i++ { fmt.Scan(&tmp) k = append(k tmp) } solve(k)}``` well i wouldn't include the length at all what do you mean you don't need it ``` var k []int var tmp int for i := 0; i < n; i++ { fmt.Scan(&tmp) k = append(k tmp) } solve(k)``` er that code should work there we go last revision ah yes it would but for memory optimizations i thought instead of making a new underlying array every 4 new children (I think that's how capacity scales in golang might be mistaking it with cpp vectors) don't prematurely optimize but i guess you are right that'd work but uh i think in this case its fine since hes already getting `n` either way what i wondered most was if i could cast the line directly into slice by cutting out the ``tmp`` probably not no fmt.Scan() is not a parser alright is there another std function that would be of use for this case? I checked around geting the line as string then splitting into string array by splitting each   then iterating each item and parse each item to int but that seems even worse i'd just use json is this for a user to input or what simple universal unambiguous format it's an online programming problemset that just gives you strict stdin oh if you can't change the input then no you're hosed yeah alright. Really appreciate the immediate feedback. Thank you both alot but yeah if you could have the user just type `[1 2 3  4  5]` into stdin you could do it in one go with json nop strict```31 2 3``` yep if i have a string that is the name of a struct how can i set a variable to that struct? uhhhh i'd use a map oh yeah thatd work ```govar StructMap map[string]interface{}{""foo"":Foo}``` yeah you could also use an actual interface isntead of interface{} possibly you should if you can https://github.com/google/uuid is there anything like that but the uuid's are smaller unlikely cause i want it to be displayable to the user so the smaller the better",,,0,0,0,0,1,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1790,16,2020-09-26T08:08:46.115000,How can I read keypresses when the program isn't focused (if that makes sense) Like I have my go program running in the background and when I am playing something else it will read keypresses and now that I am typing this I realise it sounds like I'm making a keylogger I'm not how can I change what each key does like I want to replace a with s and stuff like that @superloach made something like that hope I'm not pinging for nothing sorry bud :NanaBongo: that might depend on the platform you're targeting I know X can do it but idk any other I am on linux Can I read from `/dev/input`? Yet I don't know how I can replace the keypresses or simulate one you need root for dev input using plain X library is the best way here,,,0,0,0,0,0,1,0,,0,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,38,7,2020-08-02T03:15:26.981000,"How can i unmarshal json like:```json{ hello"": world""}``` into a struct where it\'s just keyvalue pairs? or would i use a map for that? use a map yeah it's exactly what you need you're on the right track got it so i would just unmarshal the json into the map? cool thanks!",,,0,0,0,1,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1837,18,2020-09-28T03:35:40.670000,hmm am i the only one who want write go like that?```gofunc main(){ }``` yeah you're the only one ?ï¿½ï¿½ï¿½ @MiniApple you\'re not the only one; the relevant quote is along the lines of gofmt\'s style is no one\'s favorite but gofmt is everyone\'s favorite lol sometimes it is better though that particular rule is in place because of a syntax rule in go itself not just because of gofmt hmm it's due to the reason we don't have to write semicolons at the end of each line what is gofmt it's a program that rewrites your source code to conform to a global style there is a single style in go; no arguing over indentation or brace styles hmm ~~will go 2?~~ will go 2 what provide more arguing? yes probably but it won't be over style,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2306,21,2020-07-21T12:12:08.377000,could a segmentation fault cause a program crash? There are multiple go routines or a nil pointer call? yes to all lots of things can cause your program to terminate in an unclean way don't rely on defer() to protect you from someone pulling the plug on the host machine I'm learning Go by doing a simple project but sometimes I feel like I'm missing a few concepts and principles of Go.Do you have any recommendations for Books/lectures/talks about Go for beginners? nothing general the go tour covers all of the language's features the language is way simpler than you think if you need info on a specific thing then you can find specialized resources Yeah this is why I felt like i'm missing something XD I will just finish the tour ?ï¿½ï¿½ï¿½ thanks https://asciinema.org/a/uaibjm840pJjr7xZVBv1QaHDr when the program uses os.Exit it pulls the plug _hard_ when you catch a signal it will exit cleanly special sauce: https://hastebin.com/utiluqaqof.cs Thats no problem. All os.Exits are surrounded with log.Println()... @Omri same thinking here. I become very mad about the go routines. Because some things you can't do with channels and then you are there with mutexs again ?ï¿½ï¿½,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,89,13,2019-11-04T22:38:12.873000,Anyone use mssql with golang on windows? Really struggling here Post your question ?ï¿½ï¿½ï¿½?ï¿½ï¿½? Trying to use Microsoft SQL server express with golang => Using https://www.github.com/denisenkom/gomssqldb as the driver Got the setup right just can't ping my database Almost sure it's the fact database is hiding behind a firewall Or code. Or both. Oh I suck Fixed it Ah nope lool it's still broken `Login Error : mssql: Login Failed. The login is from an untrusted domain and cannot be used with Integrated authentication.` But I have an error thats good Honestly given up will bother a principal dev tomorrow morning lol,,,0,0,1,0,0,0,0,,1,,,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1866,42,2020-01-30T23:42:41.652000,"When using VSCode debug (assuming delve) I get local_var: string+52 more"". Is there a way to see what the actual string is when debugging? > I believe I've seen alphabetic order around tooImo its better for libs > Is there a way to see what the actual string is when debugging?log.Printf() :kappa: @Camelva Eval error: function calls not allowed without using \'call\'Unable to eval expression: function calls not allowed without using \'call\ why reverse? ?ï¿½ï¿½ï¿½ Where are you running it @brandonkal ? Debug Console Read the thread Not the best way but to try to just put log.Printf(""%s var) for each variable you wanna know inside code You can delete this lines after I usually use `%v` @codic made a comment and don't abuse %v lol y tho if you know the type use %s It works for everything lmao because %v is slower Oh %s also works for everything? the runtime has to detect the type no %s is string only @codic if its bytes  it will show bytes. Not really helpful well it's technically all types but it'll pop an error in the string also diamond i responded to your comment Where tf do I add my function in https://github.com/golang/go/tree/master/src/strings https://github.com/golang/go/blob/master/src/strings/strings.go I saw that But none of the fucns are exported They're all lowercase I was about to say maybe a Round func would be better but then I realised they added math.Round in go 1.10 :p scroll down ait nvm yeah i see https://github.com/golang/go/pull/36913 arent strings already bascially rune slices yes oh yeah but immutable nah byte slices https://goreview.googlesource.com/c/go/+/217120 range implicitly converts them to rune slices",,,0,0,1,0,0,1,0,,0,,,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2492,50,2020-07-27T22:40:07.434000,"Is there a way to make a channel global ? Just declare it as a global sorry is it advisable to do that Depends what it's for genreally no tbh global variables in general gah discord is so lsowowowo Ye it's so I can communicate and close a goroutine started by discordgo use methods or closures and pass in the channel wouldn't it create a new channel every time the code run (each message) ? depends on how you write it i don't know how to write it without it overwriting every time Could you point me in the right direction ```govar ch = make(chan struct{})session.AddHandler(func(s discordgo.Session m discordgo.MessageCreate) {\tch < struct{}{}})``` @_diamondburned_ tahnk you used sprintf yea np ```goif v.frequency > 120 && v.volumeGo{ lastQuote,err := restKey.LastQuoteForASymbol(symbol) if err != nil{ return } if v.marketAboveVwap {err := webhook.SendEmbedif err != nil{ return }``` is my scope correct pls format that properly do i need to do it myself? or does discord do it ill put it in go playground doesn't look like Discord did it to me intersting https://play.golang.org/p/YXEwR3YYD63 made it prettier in what scope does the first err live too so would it be proper to redeclare or assign do you not have a formatter in yoru editor? redeclare is fine i guess not : idk why its like that igh ill declare yes closures or methods I am trying to get the current timestamp and using this `log.Println(time.Now().UnixNano())` UnixNano is in nanoseconds JS epoch is in seconds nvm it's milliseconds None @tfyl https://tour.golang.org/moretypes/25 dg.AddHandler only takes 1 parameter so if you want your handler to have access to more stuff thats declared in main to show me 12 hour time you can also use this that I forked from someone else: https://godate.diamondb.xyz/",,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2370,32,2020-07-23T15:00:43.544000,"Can you see any SQL error with this code? ``` if err := s.Get(&u INSERT INTO users VALUES ($1 $2 $3 $4 $5 created_at=NOW() updated_at=NOW() RETURNING "", u.ID, u.FirstName, u.LastName, u.Email, u.Password); err != nil { return fmt.Errorf(""error creating user: %w err) } return nil``` maybe ```error creating user: Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'\ at line 1""``` User looks like:```type User struct { ID int `db:""id json:""id""` FirstName string `db:""first_name json:""first_name binding:""required""` LastName string `db:""last_name json:""last_name binding:""required""` Email string `db:""email json:""email binding:""required,email""` Password string `db:""password json:""password binding:""required""` CreatedAt time.Time `db:""created_at json:""created_at""` UpdatedAt time.Time `db:""updated_at json:""updated_at""`}``` does it support params like that? $1 $2 $3? mysql doesn't It's sqlx its been working on get and getbyid that only does ? I did take this from a postgres tutorial? db's have differences even in it's own sql syntax ?ï¿½ï¿½ï¿½ and go drivers Sure but what kind of database are you connecting to? Ok that makes sense mysql mariadb @stdio Yes the database/sql packages doesn't know what format the driver does postgress/mysql have different formats does mysql have  RETURNING? Nope Ahhh Ok Thanks v much guys @Sgt_Tailor I think there is some go stuff that translate those ?'? or at least I've seen named parameters in mysql stuff go..rm gorp dunno I was just about to ask if I had to specify the column names in Mysql Could be the driver or library providing a translation layer but stdlib doesn't do anything with it I think so Ainsley. ```sqlINSERT INTO `table` (col_a col_b col_c) VALUES (? ? ?)``` Might be able to skip that if you provide all columns but I am not 100% sure Thats perfect thank you so much yeah should be able to skip the (col_a...)",,,0,1,1,0,0,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,236,64,2019-11-13T10:14:58.284000,"Are struct reads concurrent safe? How does the runtime handle a read and write occurring at the same time? yes and nohandle structs like primitives I suppose read/writing concurrently on a struct won't break everything like doing it on a map will but there's no implicit syncing or mutexes going on if a write and a read are happening at the same time the read could get the first or the second value don't rely on timings Ah okay @Sobeston Hmmm so Yeah in my case I don't care if it gets the first or second value so will leave it at that Actually sounds like a channel should be used var a = 1a := 1same thing @>_ï¿½ï¿½ï¿½ let = var in JS = var := in go except let and var are different in JSvar a = 1a := 1are the same in go var is function scoped let is block scoped (yay) using var isn't really recommended anymore it's kinda useless I don't understand i'm Pythonist :robpike: still confused between `:=` and `=`I come from Pythoncan you show me similarities := is just shorthand variable declaration w/ a value = is assignment `:=` allows variable shadowing what is variable shadowing @>_ï¿½ï¿½ï¿½ var a int = 1samea := 1 in go I'm come from Python too I thought Go was about being statically typed not the same thing. can you show me use cases for the `:=`? _ err := request().........._ err = newBanana()... That's variable shadowing variable shadowing is where one variable with the same name as another overrides the other ```gofunc main() { a := 1 if true { a := hello"" fmt.Println(a) } fmt.Println(a)}``` ```gofunc main() { x := hello"" y := world"" if true { x := hi"" y = earth"" } fmt.Println(x) // hello fmt.Println(y) // earth}``` so scopes? no aah I see @neverRare variable shadowing allows the more inner scoped variable to override that of another one of the same name aah so the inner variable gets preference ```gofunc main() { var a = 1 if true { var a = hello"" fmt.Println(a) } fmt.Println(a)}``` this is identical to the one I posted above mostly a style choice oh yes it is said that the more inner one shadows the othera lot of languages disallow this why was the `:=` invented `:=` is similar to `var` Well gofmt remind you of shadowing errors errors and not warnings\'? We can't compile our codebase with shadowing warnings ?ï¿½ï¿½ï¿½ Dunno how it's made in the CI process But doesn't work lemme check so it's almost impossible to write Go program without any warnings? no? what I understand is that Go is strict in how it wants us to code lol whaat @>_ï¿½ï¿½ï¿½ Go is compiled ?ï¿½ï¿½??ï¿½ï¿½ï¿½\u200dï¿½ï¿½ï¿½ï¿½?ï¿½ oPiNiOnAtEd > so it's almost impossible to write Go program without any warnings?That's not what I said Well you could write bad golang it'll still compile being strict on compile time often reduces errors on run time https://golang.org/cmd/vet/ alright thank you y'all",,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,20,9,2020-08-01T13:49:42.269000,Hello. I have a for loop which iterates over a slice. When a specific criteria regarding an element is met I need to add an element just next to that element. How could I do that? If statement and slice tricks ?go slices I don\'t understand how could I shift the other elements you don't you make a new slice consisting of oldSliceHead newElement oldSliceTail i mean that's the simplest solution Tried and it works,,,0,0,0,0,1,1,0,,1,,,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1891,10,2020-09-29T23:55:56.645000,hi everyone! wanted to hear people's insight regarding unit testing involving goroutines and channels? what is normally the extent you test them? as much as I feel like it lol lmao thats where im at rn but was getting curious when a coworker wondered if its worth to test the actual start/stop of the goroutine existing etc! generally go APIs are expected to be synchronous and blocking so I'm assuming your function implicitly manages goroutines by itself yep! yeah just check the outputs then run the test with the race detector too got it! thanks! ?ï¿½ï¿½ï¿½ yeah np turns out checkptr panic in bbolt was just an old version of bbolt ?ï¿½ï¿½ï¿½,,,1,0,0,0,0,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,208,10,2019-11-12T09:25:59.488000,I'm kind of confused started reading more into modules and one of the points seems to be moving away from `$GOPATH/src/`. Should I do that for my projects? The introductory docs still use the gopath approach Well moving away from GOPATH is optional as you can still use the GO111MODULE environment var to enforce module behaviour Some people might prefer it still But moving to modules even inside gopath is still a good thing to do As you'll be able to properly pin your dependencies okay I was just confused as to what is best practice with modules Im not experienced in go enough to have informed preference over where do I store my project files It used to be GOPATH but with modern projects using gomodules it doesn't matter anymore So there is no more best place It's more like prior to this there's only one place you should do it in,,,0,0,0,1,0,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2058,46,2020-04-18T18:58:23.157000,naming struct by small letter will make the struct private? yes yes unexported is the idiomatic term in go but yeah lowercase names can't be used outside their package so private in objectoriented languages is unexported in golang? it's the same concept in practice don\'t try too hard to draw direct lines between object oriented anything and Go. That's going to send you down the wrong path oh okay I got question is there any good alternative of selenium for golang? It'd be nice to have some examples im really beginner in this language and want to make nice things but it's hard to do with only godoc available i mean selenium like the firefox thing? I googled golang selenium https://github.com/tebeka/selenium so google still exists I know but it doesn't have examples https://godoc.org/github.com/tebeka/selenium there's an example here right on top it defintiely does https://godoc.org/github.com/tebeka/selenium ergh okay i'll be honest  I didnt look anywhere else than reame.md punch me please just you know read the docs they exist they're there to help you as for alternatives there's chromedp or similar for controlling chromium and yeah https://www.w3.org/TR/webdriver/ the tech is called webdriver which is also googleable thanks helpful info. And sorry for asking before looking docs won't do it again ?ï¿½ï¿½ï¿½ selenium is for both iirc never seen that error before boy this is bad code ```func IsEmpty(data string) bool { if len(data) == 0 { return true } else { return false }}``` could be ```return len(data) == 0``` not a good sign you probably want to use something else Ty guys bad example it seems. Will try do it myself one step by the time https://girishjoshi.io/post/implementinghttpbasicauthenticationingolang/https://www.sohamkamani.com/blog/2018/03/25/golangsessionauthentication/,,,0,0,0,0,1,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2062,6,2020-04-18T20:18:33.292000,Hello I'm creating web application with 3 different types of users. Each user would have different accessibilityti in application. The main idea of this application is to collect data store and display results. What kind of server would you recommend to me to set up for application proccess creation/testing?Best wishes MantasSil Generally you need to provide the users with accessability levels Or permissions for a different word A user account would have some sort of field indicating what permissions they have When a user tries to access a resource you would basically just check if they have the correct permissions Any specific questions relating to that concept?,,,0,0,0,1,0,0,0,,0,,,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2446,16,2020-07-26T03:29:34.098000,how can i use the variable in a url with string formats to do a request or handle a response? to do a request have you checked out https://golang.org/pkg/net/url/#URL it has the ability to build a compliant url Oh i will look into it also Sprintf oh yea ty guys and is there any way to make optional arguments? nope not in the way you probably want you could just use ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½ to just not use the variable thats not what they were asking but yes that is true ?ï¿½ï¿½ï¿½ OH ok so uh is there any way to make gRPC's statuses return only the description in the `grpcmessage` trailer,,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,42,22,2020-02-02T20:49:33.101000,Does Go support _explicit versioning_ ? yes ?go modules yes yes oo check the docs it's amazing what you can find in them yeah... I just use semantic versioning To be honest I have ~~read~~ skimmed that page in the past and I can't remember it mentioning explicit versioning explicitly and all the examples use threepart versions mostly. for the most part that's what's used but it support a 4 number notation I think it just supports any git tags tbh it really follows semantic versioning specifically 3 is just the most common which is compatible with 4 numbers but in semver the third digit is typically used for patches In explicit versioning the fourth is for patches. I wonder if the fourth will count as the prerelease string? `v1.2.3rc1` :StareNeutral: I guess the best way to find out is to test.,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2602,22,2020-07-31T10:03:16.095000,"How do I check if a table exists in sql? Ive been using select  from table but ovbiosuly it returns false if nothings there. I looked into this```IF (EXISTS (SELECT   FROM INFORMATION_SCHEMA.TABLES  WHERE TABLE_SCHEMA = TheSchema  AND TABLE_NAME = TheTable'))BEGIN Do StuffEND```But not sure what to pass to the schema depends on the driver mysql: ```SELECT  FROM information_schema.tablesWHERE table_schema = yourdb  AND table_name = testtable'LIMIT 1;``` Legend @Sgt_Tailor thanks I should make a stackoverflow bot that just yoinks the first result from the site legit all I do 70% of the time the remaining 30% is 28% godoc and 2% thinking Lol sorry I looked there but I couldnt understand the schema didnt think it was the db ```test tableCheck := m.db.Query(""SELECT  FROM information_schema.tables WHERE table_schema = \'go_cms\ AND table_name = \'testtable\ LIMIT 1;"")``` So tablecheck will return nil if ithere is no table right? if db is from the `database/sql` package then no It will return a Result which you to call next and scan on. That will return a error ```var ErrNoRows = errors.New(""sql: no rows in result set"")ErrNoRows is returned by Scan when QueryRow doesn\'t return a row. In such a case QueryRow returns a placeholder Row value that defers this error until a Scan. ``` > func (DB) QueryRow> > func (db DB) QueryRow(query string args ...interface{}) Row> > QueryRow executes a query that is expected to return at most one row. QueryRow always returns a nonnil value. Errors are deferred until Row's Scan method is called. If the query selects no rows the Row's Scan will return ErrNoRows. Otherwise the Row's Scan scans the first selected row and discards the rest. So I would use QueryRow and then `Scan` to find the `ErrNoRows` Hmmmm I havent used that before it takes an interface as a second arg can it just be empty? Check the godoc ?ï¿½ï¿½ï¿½",,,0,0,0,0,1,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2221,46,2020-04-23T21:17:46.923000,"Hey I have a question how you can convert an interface into a type ? ```gofunc (cmp Comparator) Int(a interface{} b interface{}) bool { var ( aParsed int64 bParsed int64 ) switch t := a.(type) { case int int8 int16 int32 int64: aParsed = t.(int64) // panic: interface conversion: interface {} is int not int64 default: return false } ...}```There is a solution to that ? Oh i am wondering how ? ^ why not? bruh Which represent tags is it from json decode/unmarshal? feeks XY man A struct ? oh haha xD OH COME ON lol fyi json only do these types when unmarshalling into an interface so a number would always be a float64 from a json unmarshalled interface you only have to type switch those types so if i am entering an uint64 this will panic ? embarassing this will give me ```gomap[string]interface{}{ a"": 1337.0,}``` heh wanna see something funny? None here's your object typed into a JS interpreter it's float64 because that's how JSON works that's how JS works Go's encoding/json only adheres to that that's why big numbers are usually quoted in JSON Okay fine I am learning something completely arbitrary json input sounds rough arbitrary input of any format is already rough as it is lol I was thinking the unmarshal would be smart what are you making you should also expect JSON to be smart (it isn't) Kind of log streaming search Okay it's a good news for me haha I will not die in a 19348 switch cases of 892032 types of numbers if your just searching through text why convert it to values? In another scenario you can define statistics alerts on the fly with predefined threesold ect It's more complex than it look ?ï¿½ï¿½ï¿½ https://jsonschema.org/understandingjsonschema/reference/numeric.html yeah? i just wanted something different also badger has TTL",,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,1424,90,2020-03-26T12:33:17.145000,"Hey guys. I\'m trying to decode JPG images using the `image/jpeg` package```img err := jpeg.Decode(file)if err != nil { fmt.Println(""ERROR: Unable to decode image: imageName) fmt.Println(err) return err}```I\'m always getting the following error: `missing SOI marker: FormatError null`Can anyone help me debug this and figure out if my image is actually corrupt or if there\'s something wrong with my code? I\'ve tried online decoders and they\'re not giving me any errors with the same image the path to the jpeg file i copied and pasted a snippet of my code the thing is it was working just fine before and now all of a sudden it's not working. so im guessing my images have something wrong with them and i'm not sure how i can find out Decode wants a reader ?ï¿½ï¿½ï¿½ Elaborate please? What type is `file` <https://golang.org/pkg/image/jpeg/#Decode> or show a bit more code A reader is returned by `file err := os.Open(pathToFile)` this is what you should pass to `jpeg.Decode(file)` (don't forget to use the `Close()` method on the reader once you're done using it. A good practice is to `defer file.Close()`) As a sort of general question if im developing a module is it usually better practice with go to have less files (23 say) with a lot of code (12k lines) or more files (1015) with less code per file (200300 lines)? Seems to vary language to language so curious whats preferred with go there is no convention on this I prefer larger files myself and so does the standard library in some places (e.g. `net/http`) but there is no convention on this use your own judgement and the judgement of your team guys decoding a gob is hella slow is it like 1 second im sending image.RGBA can anyone please tell me a faster way to send images through the net not sure why you'd gob that just send the bytes it's a png or a jpeg or whatever just send that encoding and decoding the bytes itself will take a while right maybe thats why i thought if we can send the whole thing as once it will be fast but gob is doing more work on top of that oh because it's not just encoding the image data it's encoding the Go type information and so on oh thanks! ill try it A stream of gobs is selfdescribing. Each data item in the stream is preceded by a specification of its type expressed in terms of a small set of predefined types. Pointers are not transmitted but the things they point to are transmitted; that is the values are flattened. Nil pointers are not permitted as they have no value. Recursive types work fine but recursive values (data with cycles) are problematic. This may change. the docs literally say this is a selfcontained Go value including type data etc etc BUT ultimately unless you're actually profiling your code it's...strictly speaking only speculation uhhh not super sure i never messed with gob to be blunt if i was going to do something like this i'd just use protobuf or uh...msgpack or ikeapack if i was feeling frisky Or JSON. Much more likely to use JSON I mean anyway I don't see much of a use to transmit data as linked list anyway I'd probably process them into an array prior to transmission and if needed reconstruct the list upon reception that isn't your real question presumably just go ahead and ask about your code I haven't but would love to someday I just want to know if they accept the strings package it's in the standard library so it'd be really hard and stupid to forbid its usage but you'd have to ask them or just try it out well i know but after i sent the code i got a not recognized strings.Builder Just allocate and bzero() a very long char array in C sounds like an answer strings.Builder is on strings package XD i'm familiar with it sounds like a shitty code challenge https://play.golang.org/p/4bpdqT2Z8rG this is the code. and this is the challenge https://codingcompetitions.withgoogle.com/codejam/round/0000000000051705/0000000000088231 ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ that's up to the code jam people your code compiles if they think that's not good enough they're the assholes On i found the problem. strings.ReplaceAll strings.Builder was add on GO after 1.7.3 version but Code jam is using 1.7.3 ahhhh holy SHIT 1.7 is like so i pretty much have to do on hand thinking of do the Jam using C. 10 years old or something that's awful at least they can't complain about C version of stuff since the last update is older than GO sorry they use: 1.7.4 (package: golanggo) go build Solution.go ./Solution codejam started? https://codingcompetitions.withgoogle.com/codejam/faq remains 8 days @pos1tr0n to start oh you're doing the past problems yes and have a problem with GO cause they use 1.7 version and go is at 1.14 XD well i will use C now. ive used both gob and png. Even though png encoding/decoding is faster than gob it is slower overall it takes about 0.15 seconds to transfer a full image and i want it even faster > just send the bytes> it's a png or a jpeg or whatever> just> send that",,,0,1,1,0,0,0,0,,0,,,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,1489,6,2020-03-28T22:24:21.064000,The same way Anything that locks the mutex will be blocked if it's already locked It has nothing to do with what variables you access during the lock The `.Lock()` method will block if a lock is already held preventing that code path from running until it's unlocked It can hurt your concurrent performance though Since you need to synchronize access,,,0,0,0,0,0,0,0,,1,*,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2244,20,2020-04-24T15:25:16.677000,Is there a way to rate limit logs or a logger which supports rate limiting available? like buffer and limit the number of console logs /s why is more abstraction worse with that statement you gotta use c and not go not really use asm and not c or go but I'd recommend chi over gin too real programmers use an abacus @mnhn yes I use builtin flags. fingers your fingers ! @_diamondburned_ why? they seem pretty similar chi does less what about https://github.com/labstack/echo ? wasnt there some controversy about that or was it something else opinions i have never used it but i wouldnt because i dont see a point in suing it I have multiple websites that use the same front end and backend code just have different html templates so I created a new module for them all to share. Now when I upgrade this module I also have to upgrade every website with the new `go.mod` version and deploy to the docker registry does this sound like bad practice? no that's just regular management of shared dependencies good ?ï¿½ï¿½ï¿½,,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1908,68,2020-09-30T13:35:42.776000,"Hei guys what's up?I decided to learn Go and my midterm objective is to move a personal project i've written in python/django to Go.It's a simple REST api server sql db and such Any suggestion on which frameworks to use? gochi gang Does this look evil ```go allParticipants = append(allParticipants, append(participantsOfStatuses(threadStatuses), append(participantsOfMessage(&parentMessage), participantsOfMessage(threadedMessage)...)...)...) participantsSet := stringsutil.HashSet(allParticipants)``` depends how much own work you wanna do it does doggy I need to concat lists together but i dont want to make twenty for loops @Str?ï¿½m Well Django is for perfectionists with deadlines so I was looking for an equivalent framework lol @Urinamara stdlib is there any higher level rest framework? start with the basics the stdlib is more than functional for REST APIs I already know a bit of Go ```gofunc Concat(slices ...[]string) []string { concat := make([]string 0 len(slices)) for _ s := range slices { concat = append(concat s...) } return concat}``` Hows this I've been looking at resty but I found several others on Github just need to know what goers like the most If you find yourself needing something a bit more than the stdlib gochi is a good router But you really should know how to make REST APIs with the standard libs > But you really should know how to make REST APIs with the standard libsI already know that I asked a very precise question man XD I will check out gochi thanks ```go allParticipants := stringsutil.Concat(threadStatuses.ProfileIDs() participantsOfMessage(&parentMessage) participantsOfMessage(threadedMessage)) participantsSet := stringsutil.HashSet(allParticipants)``` c: @Urinamara the truth is most of the community advises against those higher level frameworks that are popular in other environments I make rest apis with stdlib @mmacheerpuppy ?ï¿½ï¿½ï¿½ Reasons are many: the stdlib is fantastic and much better than what you have elsewhere @Sgt_Tailor why :vomitblood: > @Urinamara the truth is most of the community advises against those higher level frameworks that are popular in other environments@evandocarmo I see this makes kinda sense. stdlib is love stdlib is life ok next question Is there anything that can compare to Django Admin? You hide the gore by shoving it in a different package. I would just have 3 consecutive calls to append I think the dumpster fire that the Iris project is (stealing people's code bad ethics all around) also turned people off from those frameworks What does Django admin do? @Sgt_Tailor Well its not hiding the gore but creating a function that can deal with it more neatly did Iris project actually do that wtf neatly xD Just google `Iris golang reddit` Or as rob pike would say: code should be clear not clever jesus lol I have mixed feelings on rob pykes code style I think that it reduces clarity when dealing with business logic and its harder to write unit testable code On the other hand for loops are generally easier to read i think his code is nice for his use cases `Concat` doesn't actually concatenate the strings does it? If you need your business logic to be evident comment your loop or hide it in a wellnamed function @mmacheerpuppy If `stringutils.Concat` returns a slice the name is incorrect imo You know what's nice? Having a test be commented in a narrative manner Yeah but thats it you can quickly end up with thousands of lines of code due to the verbosity of loops when you could with the right functional data abstractions have hundreds Lines are free /deezy What does the function actually do btw? when I read `Concat` I would expect the result to be a single string The one being called? Oh it just builds a superslice out of subslices So it concatenates arrays of strings it should be stringsutil.concat aka just appending them It would be better to pass a function which does something like maps the given fun over enumerable and flattens the result. A flat map op And then I pass into flat map More reusable combining the slices makes sense but having it in `stringutils` is kinda weird. It just seems like a function what would accept multiple strings and concatenates them to return a single one yea i hear that Random helper function vs:```go allParticipants := make([]string 0) allParticipants = append(allParticipants threadStatuses.ProfileIDs()) allParticipants = append(allParticipants participantsOfMessage(&parentMessage)) allParticipants = append(allParticipants participantsOfMessage(threadedMessage))```",,,0,0,0,1,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1915,16,2020-09-30T18:00:13.155000,Are now perhaps any Android developers using Go around? or does that breed not exist? weird i did ask 2 hours ago and before that you might have more success asking on the gio mailing list: <https://lists.sr.ht/~eliasnaur/gio> oh did you think it changed in 2 hours? i did make a little progress mailing lists :Weary:?ï¿½ï¿½ï¿½ :thonk: you can also get on Freenode and ask them there's also an official slack channel for gio ofc there is then ill check freenode later I unironically prefer IRC over Slack i made my GUI build unchanged for Android! ?ï¿½ï¿½ï¿½ it was the right combination of build tool (gogio instead of gomobile) build tags (nucular_gio there is no gio tag...) and not using the app.Main() function which is probably hidden in the GUI library...,,,1,0,0,0,0,0,0,,1,,,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1898,18,2020-09-30T07:38:56.569000,"Hi I was going through Exercise: Images from A Tour of Go"". Link: https://tour.golang.org/methods/25 . But I don\'t properly understand the problem statement and what am I expected to implement. Has anyone else implemented this? If so then can you just guide me what to do without explicitly telling the solution. @Mansour You can write a method for this struct type (with pointer receiver). Use the range function to iterate over the []Time slice like this: `for index val := t.Timestamps` where t is the pointer to struct. And check for the conditions based on your use case. If true then use the same index variable to extract corresponding element from the values array. Correction `for index val := range t.Timestamps` @Yash.Sc1ence create a struct that implements the `image.Image` interface https://golang.org/pkg/image/#Image this interface @Yash.Sc1ence why the ```make``` can you explain? oh nvm you just mistyped xxD @Madxmike Yea that I understood but my problem was like when I am implementing the Bounds method then what values do I return ? Because the Image struct is empty when it's initialized in the main func and the problem statement says: return image.Rect(0 0 w h). What should be these w h values? Some arbitrary value of my choice? sure @Mansour  Yea my bad. lol range is what i meant an image would have a width and height presumably w and h would be fields of the image struct @Mansour are these times : values 11? if so why not use a map @Mansour You can create a map by looping the Timestamps and then use this mapping to do the check. That would also work. But that would require 2 iterations. First to create a map and then to check the condition. So It's better if you can do it in 1 loop. yes they been processed somewhere else and if the conditions are met they are put in chunk.timeStamp and chunk.values yeah less code i've to write the better :p",,,1,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2368,58,2020-04-28T01:24:47.841000,Hello. I donï¿½ï¿½ï¿½t understand how `fmt.Println` implements the `Stringer` interface. `fmt.Println` returns `(n int err error)` while `Stringer` requires a `String()` method that returns `string` Println doesn't implement Stringer wdym it has a case where if whatever is passed into Println implements Stringer then Println will use that instead Yeah Iï¿½ï¿½ï¿½m not sure either diamond Println itself doesn't implement Stringer Ok my mistake I think I got it. nice You can write a function that takes as an argument anything that satisfies the interface. And in your code you can send it whatever object implements those methods and go will just figure out which to run. eh pretty much close enough I mean itï¿½ï¿½ï¿½s not really figuring anything out But yeah itï¿½ï¿½ï¿½s close enough ```gotype Foo interface { Foo() string}func Butts(f Foo) {}``` this says the function butts will accept ANY struct which has a method with the name Foo that accepts zero arguments and returns one string there\'s no figuring out you are explicitly defining what you need by virtue of referencing the `Foo` interface Copy that. Thanks. Let me see if I can tie it back to printing stuff to the screen. Which is a bit different than other languages you may have used that do have to ï¿½ï¿½ï¿½figure it outï¿½ï¿½ï¿½ fun fact Foo is Stringer that was the idea i wanted my example to stand on its own https://golang.org/src/fmt/print.go?s=7925:7974#L638 fun fact from the godocs page you can view the source code so you can see exactly how things work Println is really Fprintln. It accepts an io.Writer which is anything that has a Write() method. but uh Println is a very very nontrivial piece of code you can dig into it if you want (It also accepts an empty interface which is any object) but it will likely be a little overwhelming knowing what's happening under the hood isn't a bad thing but it's also okay to just accept that it's a black box Yeah i don't know how Println works i know Stringer exists that's about as far as you need to go Ok there are better things to look at to learn about interfaces at least more digestible at least I get the idea I just get intimidated when I see interfaces. they're a nontrivial subject! In the context of Println it just means that if you define a struct and then define a `String() string` method on that struct Println will use that in response to the `%s` verb make sense? Yep  makes perfect sense. I like that a lot. you got this I do appreciate it. Not the first time Iï¿½ï¿½ï¿½ve asked in here lol. as long as you don't ask the same question too many times you're gucci fam And check your errors ?ï¿½ï¿½ correct never ignore errors ever Lolz. Alright Iï¿½ï¿½ï¿½m gonna rest and do some more tomorrow. Yes indeed. i don't care how certain you are that it will never error that is precisely the moment you'll discover a scenario you NEVER imagined was possible,,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2435,5,2020-07-25T17:51:39.334000,"Hi All I am new to golang. I have tried a simple golang thread problem ```package mainimport ( fmt"" sync"")func worker2(wg sync.WaitGroup communicationChannel chan int) { defer wg.Done() for { fmt.Println(""START : worker2"") value := <communicationChannel fmt.Printf(""Value %d value) fmt.Println(""END : worker2"") communicationChannel < (value + 1) }}func worker1(wg sync.WaitGroup communicationChannel chan int) { defer wg.Done() for { fmt.Println(""START : worker1"") value := <communicationChannel fmt.Printf(""Value %d value) fmt.Println(""END : worker1"") communicationChannel < (value + 1) }}func main() { fmt.Println(""Starting the main thread"") communicationChannel := make(chan int) var wg sync.WaitGroup go worker1(&wg communicationChannel) go worker2(&wg communicationChannel) wg.Add(2) wg.Wait() fmt.Println(""Exiting main thread"")}``` Does go not wait for all goroutines to be finished? no if main exits everything exits",,,0,0,0,0,1,0,0,,0,*incomplete,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,51,11,2020-02-03T04:17:00.426000,so if a is done but b has 3 values left it's going to iterate over a 3 more times? why infinite? because it's nondeterministic realistically it won't be infinite but it will probably be many more than three times the goroutine for a will potentially loop 1000 times before b is ready? it has nothing to do with whether b is ready but the key point is a has a value even when closed yes receiving on a closed channel always immediately returns a zero value of the channel's element type thanks for clearing it up certainly ?ï¿½ï¿½ï¿½,,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2438,20,2020-04-30T12:45:19.030000,What's a good algorithm to remove all the strings in one list from another from DS & A land I could make a map of the strings and just check if they are in the map on a second loop Not sure if there's a better way to do it no that's the way just use maps `map[string]bool` `map[string]struct{}` if you want to be absolutely needlessly neurotic about memory usage I heard that I shouldn't use too much pointers. Is that true? well people think of them as a cheat code for performance gains they are not they have valid uses just default to not using them unless you specifically need the functionality they offer thank you ?ï¿½ï¿½ï¿½ I seem to use pointers for literally everything they're a valid thing to use people just think oh pointers mean i\'ll use less memory so i\'ll shove them everywhere Thats what I thought before ?ï¿½ï¿½ï¿½,,,0,0,0,1,0,1,0,,1,,,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2516,44,2020-07-28T16:02:48.700000,"Hello guys I'm not sure if this is the right place to ask (correct me if there is a more appropriate place). On theory is it possible to launch a go instance through docker evaluate code from string get the result of the code and send it back to the requester""? I\'m trying to do a student project which would allow client side evaluation of golang code but I\'m unsure how could I protect the server from infinite loops and stuff so I\'m trying to come up with a more efficient way. something similar to the gotour just start an nspawn container with a timeout probably or use go wasm you could have a http server launch `go run` Docker isn't very secure though and use firejail or something with rlimits it really depends on how secure you want this stuff to be for just some silly school thing its very different than having this be a real playground the project should be left for the university to be used its a code editor with solutions and tests available in js and c# sadly i cannot show it since its not live yet (was going to be way easier for you to have a grasp) so i cant use go wasm afaik is it always online it is like a webapp yeah then just have it send the request to the playground its supposed to be used for data structures and algorithms classes and get the output back or run the playground locally on the server https://github.com/golang/playground awww i didnt know about playground yeah it's pretty good awesome i didnt want to say that at first because it looked like you were asking for help with some wierd homework thing sadly many people come to discord for homework stuff nowadays however in my case im trying to build a project which will be used for all the future students in the uni https://giphy.com/gifs/mrwaccountpantiesinyqrgp9o3NUA sending the request straight from your js to the playground seems the best way to go about it then you dont have to worry about managing your own playground instance awesome thank you with all my heart for the quick response guys appreciate it https://blog.golang.org/playground hi. this link that has this systemd service https://fabianlee.org/2017/05/21/golangrunningagobinaryasasystemdserviceonubuntu1604/ https://www.freedesktop.org/software/systemd/man/systemd.unit.html https://www.freedesktop.org/software/systemd/man/systemd.service.html# @keyk learn the standard library. `sync` provides things like mutexes which will be important in a lot of code",,,0,0,0,0,1,0,0,,1,*inconsistent,,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2447,18,2020-04-30T17:00:32.128000,one of my issues is i am not great at navigating the golang docs. example  i want to use `bufio.NewReader`. Now that takes a `io.Reader`. I click on that and I see it's an interface and anything that implements a `Read(p []byte) (n int err error)` method signature I can send to `bufio.NewReader`. But how do I find out what implements that method? It depends on what do you want to read looks like `type File` implements a Read so I can do a `Open` get a (pointer to a) `type File` and send that to `bufio.NewReader` just as an example i know there's easier ways to read a file Yep that's right ok  getting there. thank you @r__d common to look in other packages for implementations getting there sometimes i grep but uslaly its in the same file Yea and it really depends on what do you want to read and beauty is that if you do not find right package you can just implement your own Read function > Yea and it really depends on what do you want to read and beauty is that if you do not find right package you can just implement your own Read function@r__d that's exactly what i am moving towards wanting to be able to do Isn't there an option to pass a different go.mod filename to go build? `modfile=file is a new flag that instructs the go command to read (and possibly write) an alternate go.mod file` Itï¿½ï¿½ï¿½s in the 1.14 update notes if you canï¿½ï¿½ï¿½t find it elsewhere <https://golang.org/doc/go1.14> Thanks @Madxmike Is there an easy way to generate a random sixdigit number? `rand.Intn(899999) + 100000`?,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,29,4,2020-08-01T21:22:57.303000,Hey I'm new to golang and am having trouble parsing this json response to a struct and was wondering if any of ya would be able to help me out? Hello I was reading the net/http go library and I found this: if n := t.connsPerHost[w.key]; n < t.MaxConnsPerHost {  if t.connsPerHost == nil { how come condition (t.connsPerHost == nil ) ever be met. If that was the case wouldnt an error be raised in (n := t.connsPerHost[w.key])?? no worries,,,0,0,0,0,0,1,0,,0,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,1972,19,2020-07-09T09:24:12.601000,hey guys my tests detected a race condition in my code but i have no idea what the hell it means and would appreciate if someone can help me understand what it means not sure how to go about doing this as it's a private project soooooo doesn't it usually say which line the race condition is on? you're probably passing a pointer instead of a copy to something to your goroutines and have no mutex on that thing hm im making something like a travisCI where you have tests and they can be stopped and what not how would i make a thing like that and make it not be racey because like i want to be able to cancel tests while they are running Ah yes and `go get github.com/hashicorp/vault/api@v1.4.3` does is unrecognised revision ?ï¿½ï¿½ï¿½ Do @v1.1.5 `go get github.com/hashicorp/vault/api@v1.1.5: github.com/hashicorp/vault/api@v1.1.5: invalid version: unknown revision api/v1.1.5` And v1.1.5 version is from Jul 30 2019 ?ï¿½ï¿½ï¿½ This works `go: github.com/hashicorp/vault/api master => v1.0.50.2020070819041199564f52d0e5` ?ï¿½ï¿½ï¿½ I found out why 1.0.5 is latest version because hashicorp is using special taging for api ?ï¿½ï¿½ï¿½ https://github.com/hashicorp/vault/tags?after=v1.1.3 an it lookslike tag `api/v1.0.5` is latest but where does 1.1.5 on pkg.dev come from I don't know,,,0,0,0,0,0,1,0,,0,*lack of infer,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,72,7,2019-11-04T05:07:50.260000,https://github.com/gen2brain/raylibgo/blob/8d36ebe392441e065d2d6cd54a64da54b039b66a/raylib/platform_desktop.go#L71Where did this author get the magic 1 << 24 from? `tmpslice := ([1 << 24]C.char)(unsafe.Pointer(ret))[:count:count]` for converting a C array to a go slice `RLAPI char GetDroppedFiles(int count); ` is the C oooh its allocating a really big array that seems inefficient. disgust you say that but https://github.com/golang/go/wiki/cgo#turningcarraysintogoslices,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2053,7,2020-04-18T16:29:45.564000,"Why I\'m getting `compile: version go1.14.2 does not match go tool version go1.14""`? you have multiple go versions installed GoLand installed latest you have a mismatch of go versions installed idc what goland did How to fix this? delete one of the two installs",,,0,0,1,0,0,0,0,,0,,,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2556,34,2020-07-30T01:07:58.958000,"anyone wanna help me with this stupid bug really quick and make like $20 btc i mean you gotta share your code first and describe the problem i one milllion percent promise your idea/code is not worth stealing you don't have to be shy about it 99% sure that's not where the error came from oh i see add string ``FirstSeen UnixEpoch `json:""first_seen,string""` `` oh my f if that works i'm going to freak out. one sec. yeah go's json encoding is one of those things i was talking about it has an incredibly specific way it wants things handled but once you know it's embarassingly simple hmm i might be wrong looking at the code again seems like `UnixEpoch` is of type `time.Time` not int64 Yeah it didn't work that was the first thing i tried maybe do `bytes.Trim(buf []byte{\'""\'})` then Unmarshal into the int Okay let me try that ^^ i was thinking that since it does return strings in that format ``""12348120411""`` same thing hmm where is the trace pointing to that chunk of code can i have the struct decl yup ca n you add a log after ` json.Unmarshal(buf &epoch)` do sth like `log.Println(""custom unmarshal done err: err)` see if the method is being called at all yeah c: one sec yeah it's fine ill figure it out eventually ?ï¿½ï¿½ï¿½ thank you for your helpo",,,0,1,1,0,0,0,0,,1,*bug code?=> hard to category,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2324,50,2020-07-22T02:41:23.326000,Hey guys.. I am working with firebase but I am trying to create a mock implementation of it for some tests. In their methods they take an interface{}and return an error. The interface{} value is required to be a pointer. How can I assign a struct to this interface? I cannot seem to p = val ```func (v interface{}) { reflect.ValueOf(v).Set(stuff)}```?ï¿½ï¿½ï¿½ so you're a wizard yourself https://play.golang.org/p/lnPgeinz4o2 that works too depends on your needs s for me would be an interface{} let me make a playground https://play.golang.org/p/lLNj5bAB9K5 this is the reflect case and only works if it is same type anyway else .Set panics https://play.golang.org/p/UPLwuxTLsaO yeah that's the case of the second example Actually I had gotten it to work thanks so much mate if you already know the type of `stuff` then just assert lol true but I guess if we know stuff just pass func A(Stuff){} no asserting I guess reflect stuff and interfaces works better for serializers and stuff like that but still can be type switched and set indeed The actually firebase sdk uses encoding/json and the mock that I had wrote really does not know the underlying type sry... am tired @_diamondburned_ I'm not trying to force everything I'm trying to figure out if I should use it or not Ok @_diamondburned_ so how should this example work without ioc? Should I import MySQL user manager to this interface with two methods Save and Remove? I'm completely new to go so sorry for that stupid question https://discord.com/channels/118456055842734083/118456055842734083/735259421449388102 Oh I fight I get that here in ui/http/handlers I use container to get command bus https://hastebin.com/wefaraxure.cs So instead I just import it I guess? oh wow can't comment on that code; it's too generic there's no specific purpose so I can't point anything out Hm ok Whole repo would help? sure @_diamondburned_ https://github.com/SerekKiri/orbibackend woah i've never seen anything like this before you mean cqrs? commands and queries commands for managing database for example saving user and query to read from database for example login user i mean the huge imports i can't say anything tbh i'll just link you this ?go layout Standard Package Layout <https://medium.com/@benbjohnson/standardpackagelayout7cdbc8391fc1>  Skippy this is too much for me sry ok sure thanks I was looking for some rescourse about layouts so that should solve my issue,,,0,0,1,0,0,1,0,,1,,,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2441,6,2020-04-30T14:47:30.984000,how do y'all web developers like to do asset management e.g. elixir's phoenix framework has webpack/npm integration guys woops wrong chat apologies ï¿½ï¿½ï¿½ï¿½?ï¿½ :kkk_CEREAL:,,,1,0,0,0,0,0,0,,0,*survey,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1858,10,2020-09-28T19:18:06.871000,can math.Pow be used with integers in golang? Not directly oh how please? i was bored in my cs class so i decided to check if the golang playground was not blocked and it wasn't and then the exact same day we were using chromebooks in physics and it was blocked so strict Cast the ints to floats lol Type assertion https://tour.golang.org/methods/15 ahhh thanks folks i'll go through the tour again,,,0,0,0,0,1,0,0,,1,*answered but not acknowledged,,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1053,12,2019-12-26T17:47:17.933000,Why I can't get output from browser: https://hastebin.com/opavegagiv.cs ? Probably going to need to give us more context @ks123 I'm not sure how you're expecting the code to come over standard input; that's not how OAuth works. I used OAuth2 module example as base OAuth redirects the user's browser to a URL after the authorization happens which you'll then need to handle. You can do that with an embedded HTTP server or something like a custom protocol scheme (though I'm not really familiar with how that works with different operating systems) Can you link to said example? https://github.com/golang/oauth2/blob/master/example_test.go It seems like they want the user to manually copypaste the code into the terminal in that example. I don't see how they would get the URL into stdin and even then they're not doing any sort of parsing on it to extract the code so I don't really see any other explanation of how that would work. They even print the URL to go to in the terminalï¿½ï¿½ï¿½they don't open it for the userï¿½ï¿½ï¿½so it seems they're expecting the user to do the bulk of the work here. You can have the user just copypaste the code or even the whole URL into your application (doing a bit of parsing to extract it in the latter case) but if you want the browser > application flow to be seamless then you'll need to handle the redirect in your application via HTTP.,,,0,0,1,0,0,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2314,16,2020-07-21T16:53:39.532000,hey um just started learning go recently @_@how do i use a function from another package that is in a struct? a function in a struct? ```govar thing Structthing.Function()```? like ```type YT struct { playing chan interface{} stop chan interface{}}func (y YT) Play(e dca.EncodeSession opusSend chan []byte) error {``` packageName.NameOfTheStructFromThatPackage{ it needs to be exported ```goy := &packageName.YT{}y.Play(...)```? oh wait why's this work? My code? mhm The first line creates a zerovalued struct of type `pkg.YT` (and stores a pointer to that type in `y`) The second calls that type's `Play` method mmh so it creates the pointer reference? It creates a `YT` object and stores a reference to it in the `y` pointer yes alright thanks,,,0,0,0,1,1,0,0,,1,,,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,29,9,2020-02-02T05:36:25.559000,Hi! Please help to understand go internals. Is this pseudo code safe? Can I simple return cache without coping if will run two goroutines in parallel first reader second  writer? Can some unexpected happened if reader returns slice of pointers when mutex will be unlocked and writer clean cache?```gotype A struct { sync.RWMutex cache []SomeObj}func(a A) reader() []SomeObj { a.RLock() defer a.RUnlock() return a.cache}func (a A) writer() { a.Lock() defer a.Unlock() // do somethig with cache}``` Can someone clarify that? so why have a return value within a go func? you don't always have to write a function literal that's what channels are for not useless but unused potato potato :p returns a value as a goroutine? what does that mean :Thonk:,,,0,0,0,0,1,0,0,,0,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,8,20,2019-11-01T07:23:14.738000,"Why is `http.Request.Header`'s type `type Header map[string][]string`? Why a `map[string][]string` instead of `map[string]string`? E.g. if I set a header of `ApiKey` to `a34la32` shouldn't `ApiKey` be the map key and `a34la32` the value? What is the purpose of the `[]string`? @oskar yes Oh weird Just saw the docs and I think you can keep adding to the same header key and it will just keep being appended Does anyone know how to check if a `req.Header` key exists? https://github.com/golang/go/blob/master/src/net/http/header.go#L40 Ogey dangyu @oskar Oh yeah did that initially but tests were still failing. So printed out all the `req.Header` key values and apparently even though I inserted the key as `""AccountKey""` it was changed to `""Accountkey""` before it was set to `req.Header`. In the end I am just going with a check to `req.Header.Get[<name of key>]` which takes in a caseinsensitive header key and returns the value of it if doesn\'t exist returns `""""`. ```if req.Header.Get(""AccountKey"") ==  { t.Errorf(""expected account key to be set on Request but it was not"")}``` Part of the `req.Header`\'s API so decided to roll with it Hmmm I want to input some dummy data into `json.NewDecoder(<dummy>).Decode(&someStruct)` but don't know how to. Accepts an `io.ReadCloser` value. Ohhhhhh thanks for the ref! @Sgt_Tailor Is it possible to mock a stream of data? ```godataToStream := banana""stringReader := strings.NewReader(dataToStream)readCloser := ioutil.NopCloser(stringReader)``` refs: https://golang.org/pkg/io/ioutil/#NopCloserhttps://golang.org/pkg/strings/#NewReader ï¿½ï¿½ï¿½ go interfaces Thanks man ?ï¿½ï¿½ï¿½?ï¿½ï¿½ Will check em out @Sgt_Tailor",,,0,0,0,0,1,1,0,,1,,,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1851,10,2020-09-28T16:02:45.398000,"What are some alternatives to the strategy pattern I can consider or should I only consider the strategy pattern :THONK: ```gotype UpdateStrategy interface { apply(dao DAO memberId threadId string updates dynamo.TableAttributeValues) (status error)}type UpdateToLatest struct{}type UpdateIfLastMessageIDEqual struct{}```Is the implementation I\'m currently playing with I\'m not sure if I want to make the update functions themselves public (exposed from the package) so I think this is right (but I\'m not sure if these structs are the best implementation.Example ....```gofunc (u UpdateToLatest) apply(dao DAO memberId threadId string updates dynamo.TableAttributeValues) (status error) { h := dynamo.TableAttributeValue{ AttributeName: SchemaHashKey, AttributeValue: memberId, } c := dynamo.TableAttributeValue{ AttributeName: SchemaRangeKey, AttributeValue: threadId, } updates = append(updates dynamo.TableAttributeValue{ AttributeName: updatedAt"", AttributeValue: strconv.FormatInt(time.Now().UnixNano() 10), }) updated := status{} var ( res map[string]dynamodb.AttributeValue err error ) res err = dao.table.UpdateItem(nil h c updates...) if err != nil { return status{} err } err = dynamodbattribute.UnmarshalMap(res &updated) if err != nil { _ = errors.New(""failed to unmarshal updated item with:  + err.Error()) return status{} err } return updated err}``` @mmacheerpuppy if the structs are literally just the apply function you could just make them functions ```gotype UpdateStrategy func(dao DAO memberId threadId string updates dynamo.TableAttributeValues) (status error)``` then you can just change out functions that have that signature whever you need it not saying thats good or bad way of doing things but i have seen that way done a bit @r3velated try using a screenwide css also `GTK_DEBUG=interactive go run .` and you can inject CSS there",,,0,0,0,0,1,0,0,,0,*answered but not acknowledged,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,13,31,2020-08-01T08:27:17.845000,```go// CallDeferred delays call by delay in secondsfunc CallDeferred(delay float64 task func()) { go func() { time.Sleep(time.Duration(delay)  time.Second) task() }()}``` there is something horribly wrong with this function ca someone explane me what it is? I see no reason to time.sleep here and if you rely on delay for synchronization this is bad use mutexes ```Exception 0xc00000fd 0x1 0x753000 0x7ffdd42e0cc7PC=0x7ffdd42e0cc7signal arrived during external code executiongithub.com/gogl/gl/v3.3core/gl._Cfunc_glowDrawArrays(0x7ffe0c333580 0x4 0xc000000006) _cgo_gotypes.go:6244 +0x4cgithub.com/gogl/gl/v3.3core/gl.DrawArrays(...) C:/Users/jakub/Documents/programming/golang/src/github.com/gogl/gl/v3.3core/gl/package.go:9274github.com/faiface/glhf.(vertexArray).draw(...) C:/Users/jakub/Documents/programming/golang/src/github.com/faiface/glhf/vertex.go:266github.com/faiface/glhf.(VertexSlice).Draw(0xc0001ed620) C:/Users/jakub/Documents/programming/golang/src/github.com/faiface/glhf/vertex.go:145 +0x54github.com/faiface/pixel/pixelgl.(canvasTriangles).draw.func1() C:/Users/jakub/Documents/programming/golang/src/github.com/faiface/pixel/pixelgl/canvas.go:330 +0x395github.com/faiface/mainthread.Run(0x5e73a8) C:/Users/jakub/Documents/programming/golang/src/github.com/faiface/mainthread/mainthread.go:44 +0xc4github.com/faiface/pixel/pixelgl.Run(0x5e73a8) C:/Users/jakub/Documents/programming/golang/src/github.com/faiface/pixel/pixelgl/run.go:32 +0x6bmain.main() C:/Users/jakub/Documents/programming/golang/src/myFirstProject/main.go:180 +0x34``` this happendse after a while error is long and repetative this is just a beginning that differs I'm not sure I'm supposed to guess what the error is without seing actual code Golang attempt to find the module on Github even it's not there. I've already inited the go module with github.com url. I use `go mod init github.com/pontakornth/myprojectname` . There is no actual repo there for now. ? ```goCallDeferred( t.ReloadSpeed func() {t.Unloaded = false})``` basicly just swithcing the boolean whenever gun needs to reload You should just go mod init I tried but it need module path. (Edit: Change name to path) ```go: cannot determine module path for source directory /mnt/d/Projects/Web/golang_bk (outside GOPATH module path must be specified)Example usage: go mod init example.com/m to initialize a v0 or v1 module go mod init example.com/m/v2 to initialize a v2 moduleRun go help mod init for more information.``` Yes give it a module path name@mmknightx As it says just realized I could do ```gotype Chan chan chan chan chan chan chan chan chan chan Chan``` im not sure if this is even creatable but im not getting an error @mlokis lookup the readme of the package more carefully You can do that. The make statement is going to be nice But there aren't any limits there. Same reason you can make double and triple pointers Or even more of you wanted to it's so simple with C/C++ because all the values are given to you you can just call the function and parse it `TOKEN_QUERY` and it will work or you can simply create a variable with type `TOKEN_USER` having to reimplement all the structures and values in Go is a royal pain especially since sometimes I can't find the value for example it took me about 45 minutes of Googling to find out that `TOKEN_QUERY` is equal to 8. I had to dig into the source code of the C library to find that out there are some things about the WinAPI that are beautifully documented and make total sense and then there's other things where the only place I can find information about it is by digging through the source code of the library I guess no one else bothers to answer this question because most people using the Windows API are using C/C++ or any other language that has wrappers for these kinds of things. Or they're just smart enough and have enough experience to know these kinds of things and yes I know Go has the syscall library that contains a bunch of Go wrappers but I\'m trying not to use them as this project is for educational purposes and I want to learn more about Windows internals. So I\'m reimplementing everything myself. didn't think it would be this annoying though,,,0,1,1,0,0,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1855,61,2020-01-30T17:09:29.341000,"how to i sleep after an iteration of a for loop? ```gofor range time.Tick(time.Duration(period)  time.Minute) { [....code]}``` this sleeps before each iteration i'd put a sleep at the end of the block Sleep after code execution? this doesn't seem to sleep at all ```goticker := time.NewTicker(time.Duration(period)  time.Minute)for { defer ticker.Stop() [...code]}``` yes but how time.Sleep() sleep doesn't really sleep how much i want it to what do you want then i think it's more like sleep for at least the time i provide time.Sleep(providedDuration) sleep after each loop iteration Could you elaborate on what you want to achieve? As Sleep does sleep for the exact time provided. oh I understand what you want ok wait lemme think just declare the ticker start the loop then at the end of the block read from ticker :thinkingo: how do i read from it? `ticker<`? ```goticker := blargdefer ticker.Stop()for { do() _ = <ticker}``` ch := time.After(duration)for {<ch} https://tour.golang.org/concurrency/2 yeah this works well for my purpose i mean that's what i wanted thanks @dynam1c no problem thanks everyone else too :D `defer` doesn't defer the call to the end of the loop it defers it to the end of the function i removed it either way my script gets only cancelled when i cancel it either way another question: why do i get this`2020/01/30 18:22:14 Failed parsing date parsing time 11.06.2019. 12:51 as 31.12.2006. 15:55"": cannot parse .06.2019. 12:51 as 1""` while trying to parse a date and time `parsedDate err := time.Parse(""31.12.2006. 15:55 date)` my date and time have that kind of format isn't 3.2.2006? god I hate go time stuff yea thats not the format that it expects m8 2.1.2006 actually but i think it struggled there too show it's `Mon Jan 2 15:04:05 0700 MST 2006` yes true but mine doesn't look like that the one i want to parse `11.06.2019. 12:51` it looks like this you gotta use that timestamp and date the numbers gotta match so i have to convert my date/time to follow that convention? your format should be 2.1.2006. 15:04 The format is based on that reference datetime you can reformat it but it has to be the same reference oooh yeah i tried that but with zeroes in day and month seems like it doesn't want those? no it doesnt it wants the numbers for the day time month year etc it expects that was the issue then thanks again None https://tenor.com/view/bugsbunnytearscryingprettypleasegif14522321",,,0,1,1,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,4,23,2020-05-01T09:35:11.286000,"hey guys can I see your Dockerfiles for your golang project? Do any of you do the dual thingy where you move the binary to alpine after compiling? are there any negatives? My Dockerfile is currently:```FROM golang:1.14RUN mkdir /appADD . /app/WORKDIR /appRUN go build o app .CMD [""./app""]``` I do the multistage dockerfile thing for all my Go projects Significantly reduces the image size because it doesn't include the go toolchain anymore Don't have any public files I think like this:```#first stage  builderFROM golang:1.11.0stretch as builderCOPY . /MultiStageWORKDIR /MultiStageENV GO111MODULE=onRUN CGO_ENABLED=0 GOOS=linux go build o MultiStage#second stageFROM alpine:latestWORKDIR /root/COPY from=builder /MultiStage .CMD [""./Multistage""]``` > Don't have any public files I think ? do you mean if my build is dependent on a static file what happens? You asked for my Dockerfile. I don't have any publicly available on the internet ohh seen any good tutorials? > Reducing down to 8.15MB from 781MB is a huge size difference. quite impressive Boils down to this though:```# build stageFROM golang:1.14 AS buildenvADD . /srcRUN cd /src && go build o goapp# final stageFROM alpineWORKDIR /appCOPY from=buildenv /src/goapp /app/ENTRYPOINT ./goapp``` sorry this is a bit of a newb question but my project depends on static files will that be included? > COPY from=buildenv /src/goapp /app/ that only copies the binary You will have to add the other files still yep so need to do both thanks for that",,,1,0,0,0,1,0,0,,1,*survey,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,1368,11,2020-06-18T16:31:03.189000,Any code formatter extension in vscode? Something like prettier go fmt Maybe does anyone respond to my question? a blocking cgo call will take a thread the gopher runtime cant schedule it like normally @ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ Interesting is what happens if I will lock os thread permanently for a routine? idk what that mean s But where can I READ about CGO thread managing? idk,,,0,0,0,0,1,0,0,,0,,,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2059,16,2020-04-18T19:19:44.875000,Hello I copied code letter to letter from http://www.cihanozhan.com/buildingloginandregisterapplicationwithgolang/ and I still get Any ideas what went wrong? This is for education purely (Used Solution 2) ._. string len being 0 doesnt mean its empty either it just means it has a length of 0 depending on what you define as empty bruh I'd treat a len 0 string as empty zerovalued unless you're talking about string that's treated differently but in Go that's that ^^ strings with the same contents but different capacities compare equal therefore it can be ignored for that strings don't have capacities at least not according to Go specs oh yeah,,,0,1,0,0,0,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2453,9,2020-04-30T20:03:06.093000,How do I use the `type File` defined is `os`? I want to use it as a function parameter but I'm getting `undefined: File`. import os if that dosent work post code oh idk if Go error messages remove the package u prob wrote `File` not `os.File` Oh that would do it. Thanks.,,,0,0,1,0,0,1,0,,1,*code?,,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,5,15,2020-05-01T10:14:07.404000,"Hi people ! I hope this is the right channel to ask for help about Go ;)So my question is about slices  Please have a look to https://play.golang.org/p/xPK9o2KXWxGAs expected the comparison of as1 and aslice[i] is TRUE if the elements are the sameBut in my first Go program where I use the same mechanism a bunch of time I always got FALSE when comparing a struct instance with a slice element despite their pointer value being the sameAnd I end writing ```reflect.ValueOf(l.entities[i]).Pointer() != reflect.ValueOf(entity).Pointer()```instead of```l.entities[i] != entity```And I really don\'t understand why... do you want to compare values or pointers? Pointers Can you show us code that doesn't behave as expected? We now have to guess at the conditions ```func (e Entity) setStateActiveSprite(state IState sprite_index int) Sprite { var found_state EntityStateEntry var result Sprite for i := range e.states { fmt.Printf(""%p %p\ state e.states[i].state) if e.states[i].state == state { found_state = &e.states[i] break } } if found_state != nil { result = e.sprites[found_state.sprites_indices[sprite_index]] e.active_sprite = result found_state.active_sprite = result } else { panic(fmt.Sprintf(""State %v not found state)) } return result}``````if e.states[i].state == state``` is falsebut the previous line (println) shows two identical pointers You've got something funky going on but we still don't have enough context because we don't know what the types are. It would be easiest to help you if you create an example that we can run on play.golang.org I can't  I tried several times on the playground I always got the right result  I can't reproduce this on the playgroundBut I can say that it's not the only place in my code where I have this problem it appears with all my slices of interfaceIn the code above it's quite simple  e.states is a slice of ```type EntityStateEntry struct { id string state IState sprites_indices []int // Sprite index in Entity.sprites slice active_sprite Sprite // Sprite index in sprites_indices}```So I'm comparing IState with IStateAnd the function above is called as```func (st State) setActiveSprite(sprite_index int) Sprite { return st.entity.setStateActiveSprite(st sprite_index)}```So I'm calling the func setStateActiveSprite with a pointer to State as first parameterAnd of course State implements IState And to add more ```func (st State) setActiveSprite(sprite_index int) Sprite { return st.entity.setStateActiveSprite(st sprite_index)}```is called from a derived State declared as```type StatePlayerWalk struct { State}```So a compound one  Does Go consider that State and StatePlayerWalk are differents ? If so I don\'t understand why Sorry it's not a compound one but an embedding one Nope I've updated the playground with embedded struct and more  everything is still okay : https://play.golang.org/p/tB4pwjdvCck Obviously I'm doing something wrong but I really don't understand where... @r__d What do you mean by zerosize ? Empty struct ? What's the convention for names like NOP",,,0,1,1,0,0,0,0,,0,,,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2615,56,2020-07-31T18:39:30.283000,"how can i pad an image properly in go? this is my current code bounds is the bounds of the input image the issue with it is uh None on the top left side it's correct there's 1 pixel padding on the right and bottom sides though it's 3 pixel padding what am i missing it's a better idea to iterate over the image's dimensions and add the padding in padded.Set rather than doing them in the loop imo and i'm assuming ouput{Width,Height} is derived from the original image's and added the pads > and i'm assuming ouput{Width,Height} is derived from the original image's and added the padsye yea this did it thx but idk why the other one didn't work because img.At(x y) is wrong you'd have to subtract the padding the image you drew isn't actually the complete image which is why I told you to rewrite the loop because it's easier to reason about :ASwtf: oh god i was in a vc with a guy doing that in C++ that was uh like hours of debugging dude was trying to get his desktop to render to a terminal i get like weird artifacts though None what am i missing love RGBA() returns uint32? doesn't seem to be 65535 bah too lazy to check > loveoof None wait i tried dividing by 65536 even worse i love him what's /size try commenting out filter and see if it's there huh is size ever negative is taht what abs is for feels excessive size of the image kernel can you share your code and source data? i wanna PLAY abs is cuz the sum can be negative c: ive never played with raster images before https://github.com/fr3fou/imago @_diamondburned_ wack i'd say that has to do with this but that's too obvious of an answer and it doesn't help much anyway without the /size you'd get massive nums@_diamondburned_ idk that feels wrong is the size max of the color flota or sth",,,0,1,0,0,0,1,0,,1,*no code,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2296,19,2020-04-26T03:28:20.001000,"is there a way to format serialized json? json has an IndentMarshal fn ty there's also just an Indent fn yea yw https://golang.org/pkg/encoding/json/#Indent MarshalIndent is a bit below !!!! i did not know of this and i need it very powerfully I use it all the time lol easy debug print do i do this with just `json.MarshalIndent(b.chain  \\t"")` yuh this is so exciting i don't know what to do it isn't one 45 megabyte line anymore i am saaaaaaaaaaaved yes :) i mean `cat foo.json | jq .` true but if you need programmatic control yeah MarshalIndent is slick",,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1765,27,2020-09-25T13:41:23.229000,During some experimentation with what a release may look like for Go modules I did the following for a v2: (1) Branch v2; (2) Change go.mod to have a v2 extension for the name; (3) Tagged the commit at v2.0.0.When I tried to do the same for a v1 it wasn't possible. I couldn't create a v1 module name as above with v2 without `go get` complaining. It seemed like the semantics of v0 and v1 are somehow tied to whatever the HEAD of the default branch is. Is that true? Is there a way to release a `github.com/module/pkg/v1` ? you can't do a `/v1` i think V0 and V1 must be without the suffix So it's embedded in the tooling that v0 and v1 are `github.com/module/pkg` ? I.e. if I want my main branch to be my latest copy of code common practice I can't do that with Go? I suppose you could hack it a little and have your main branch use a module name of `github.com/module/pkg/dev` and then stick `github.com/module/pkg` on a `v1` branch? You tag releases. So you can have a master branch be the last code. People who use your module will automatically use the latest tag not the last commit Righto. Yea that's far simpler. So on a v1 branch maintain the `github.com/module/pkg` name and start tagging v1.0.0 etc? Exactly If the consumer doesn't specify a version  RTFM... Thanks for the input. If they don't it automatically uses V0 or V1 whichever is the last version Oh of course. So it'll head over to the v1.0.x tag anyway When you then create your first v2 release you can simply change the module name in go.mod and keep working in the main branch Then tag with v2.x.x Sure. We want to use a v2 branch and tag that. Thanks a bunch. Yeah that is the other option. No problem ?ï¿½ï¿½ï¿½ Using go modules <https://blog.golang.org/usinggomodules>  Sgt_Tailor Introduction to Go Modules <https://roberto.selbach.ca/introtogomodules/>  SkippyUsing go modules <https://blog.golang.org/usinggomodules>  Sgt_Tailor @Deleted User is sending out scam bitcoin links to people in the server :GWseremePeepoThink: anyone else get one? yep from @Unknown same from nikita Who to report to? Just post user IDs in #offtopic brb,,,0,0,1,0,0,1,0,,1,,,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2554,37,2020-07-29T22:50:58.689000,Hey i need make a translator with a GUI like a notepad (new open file save dont save if made a change) what would be the best framework for this? electron? please @xblooos yes i use nil chans as part of control flow cool actually Sure THANK! U! with channels thanks @Madxmike like water control flow systems What nil chans kinda wack because setting chans isn't synchronized with the channel itself yea you need mutexes yeah if you wanna do memes with it Channels are fun though If you gotta put a mutex on your channel if you have a use case on them Then just delete the code naw not necessarily It's about making passing to a channel optional That requires a mutex nil chan gang these comments are excellent @Madxmike agree tbh @zephyrtronium BRUH holdo n the ch is used in the few lines above yeah because you're modifying a struct field thonk like mike said if you have to use a mutex with your channel you're doing something wrong,,,0,0,0,1,0,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2400,36,2020-04-29T02:04:58.727000,"I guess my questions are does it make sense to listen with a single UDP socket or should I spawn multiple sockets all bound to `:53` using the `SO_REUSEPORT` option?And are there some better patterns I should be using for the server design? okay `type SupremeProducts struct {` same thing if i make i do []struct i just want to get all the childs of ProductsAndCategories @fraz single socket should be fine New goroutine per req if you wish If it doesnt already do it by definition default yup I'm running a new goroutine every time new data is read in I copy the packet into a new []byte slice and pass that to the goroutine I thought servers create a new net.Conn for every client maybe not for UDP @deezy using reflect here would work? yes but don't because you can do it the right way I don't get it you just need a map but i made it but it returns the JSON error err maybe I'm not doing what I should be. But essentially I have a `net.UDPConn` object and im just listening for new packets in a loop there arent any prescribed callbacks when it receives a packet @deezy can you help me please so like in an infinite loop: ```gon addr err := c.ReadFromUDP(readBuffer)... error checking ...copy(originalPkt readbuffer[:n])go respondUDP(c ...``` @Deleted User what does it mean to get all the children of a struct? if you have the struct you already have the children.. they are defined if you need to loop through the children and add more children on the fly.. then that data structure is a map use that instead of struct. I think is what deezy is saying ^ there are zero advantages to using a struct over a map here and there are many disadvantages yeah everything seems to be working I'm just worried there's some crazy race condition or something else I've overlooked that silently corrupts packets or something ?ï¿½ï¿½ï¿½ just working with DNS Its a relatively simple well defined protocol @Hammerspace Because I'm doing this right now:```for _ product := range supremeProducts.ProductsAndCategories.Bags { ... for _ style := range customProduct.Styles {  } for _ product := range supremeProducts.ProductsAndCategories.Pants { ... }```But it's way too long I want to refractor it. it takes 389lines... ```go[========>] Shirts = [map[CategoryName:Shirts ID:%!s(int=305049) ImageURL://d17ol771963kd3.cloudfront.net/185212/ca/1a8X9ICLPPE.jpg ImageURLHi://assets.supremenewyork.com/185212/rc/1a8X9ICLPPE.jpg Name:My Bloody Valentine/Supreme <br>Rayon S/SShirt NewItem:%!s(bool=true) Position:%!s(int=1) Price:%!s(int=13800) PriceEuro:%!s(int=14800) SalePrice:%!s(int=0) SalePriceEuro:%!s(int=0)] map[CategoryName:Shirts ID:%!s(int=305019) ImageURL://d17ol771963kd3.cloudfront.net/185441/ca/yHl3_5v9aA.jpg ImageURLHi://assets.supremenewyork.com/185441/rc/yHl3_5v9aA.jpg Name:Bowling Zip S/S Shirt NewItem:%!s(bool=false) Position:%!s(int=10) Price:%!s(int=11800) PriceEuro:%!s(int=12800) SalePrice:%!s(int=0) SalePriceEuro:%!s(int=0)] map[CategoryName:Shirts ID:%!s(int=305022) ImageURL://d17ol771963kd3.cloudfront.net/185149/ca/q68e3_cXQ4g.jpg ImageURLHi://assets.supremenewyork.com/185149/rc/q68e3_cXQ4g.jpg Name:Woven Toggle Shirt NewItem:%!s(bool=false) Position:%!s(int=11) Price:%!s(int=11800) PriceEuro:%!s(int=12800) SalePrice:%!s(int=0) SalePriceEuro:%!s(int=0)]]```I did this: ```gos := structs.Map(supremeProducts) // log.Print(yet) for _ record := range s { log.Printf( [===>] Record: %s record) if rec ok := record.(map[string]interface{}); ok { for key val := range rec { log.Printf( [========>] %s = %s key val) } } else { log.Printf(""record not a map[string]interface{}: %v\ record) } }``` how can I get the Categoryname for example? They are.",,,0,0,0,1,1,0,0,,0,,,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1867,9,2020-09-29T06:08:01.220000,"if a function has too many parameters is make some of them to be a struct a good idea ? What is too many parameters""? hmm like 7 or 8 parameters might be my preference but I don't want the definition of the function looks this long I guess my first question is why do you need that many parameters? are you trying to do too many things in one function? But 78 isn't too bad imo are they optional? if yes struct not optional but what if several functions all have these identical parameters ? then sure struct or method even",,,0,0,0,0,1,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,39,5,2020-08-02T06:53:49.304000,hello can I make a map with value type map?? Y is there so much overlap between rust and Go users they are like polar opposite languages also I'm learning rust > Y is there so much overlap between rust and Go users> they are like polar opposite languages> also I'm learning rustBecause Go provides alot of utility for things that you might do with Rust but without the added annoyance of borrowing and lifetimes directlyIf you need actual native stuff with C Rust is better but in alot of cases Go can do the job aswell with alot less effort and less compile time,,,0,0,0,0,1,0,0,,0,,,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1055,8,2019-12-26T19:22:08.723000,"I want to make a novelty discord bot that uses emotes as commands And good discord bot library? discordgo or disgord are the main ones used Here is kinda what I have thought through completely,Use a flag to tell the bot what id to use...And will look at those. Imgur API",,,1,0,0,0,0,0,0,,1,,,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2362,49,2020-04-27T21:53:51.308000,"Hey guys I\'m trying to get all results from an unbuffered channel but it never completes the request. Would you be able to point me in the right direction and let me know what I should look at?```gofunc main() { c := make(chan int) var wg sync.WaitGroup arr := make([]int 600) wg.Add(600) for index := range arr { go func(c chan int wg sync.WaitGroup) { fmt.Printf(""working on %v index) defer wg.Done() time.Sleep(1  time.Second) c < 1 }(c &wg) } wg.Wait() fmt.Println(""done"")}``` If I set the channel size to `600` then everything works fine. I just don't understand the technical aspect behind why is this solution not working So I have a struct ```type Item struct {Name string `json: name""`}tempItem := Item{Name: tempName""}json.NewEncoder(w).Encode(tempItem)``` and variable w is the http response writer but when I run this the json shown on the browser is with a capital N in name so it is ignoring the `json: name""` part what is going on @NotBootstrap where are you reading the channel at an unbuffered channel must be read for a write to advance @NotBootstrap you need read the channel in unbuffered channel it blocks write until a read Ah! Damn. So should I create a producer and a consumer? i mean you can just read it in your main routine would I read from the channel before the `wg.Wait()` statement? after close the channel and then do ```go for i := range c { }}``` and you will read all the values err actually your code is wrong too Like if I change `json: name""` to something else `json: Notname""` when I run json.NewEncoder(w).Encode(tempItem) it will still display the json with Name ```gofunc main() { c := make(chan int) var wg sync.WaitGroup arr := make([]int 600) wg.Add(len(arr)) for index := range arr { go func(c chan int wg sync.WaitGroup) { fmt.Printf(""working on %v index) time.Sleep(1  time.Second) wg.Done() c < 1 }(c &wg) } wg.Wait() //read from it fmt.Println(""done"")}``` you cant defer the done there because `wait` will never advance since the goroutines never return so the defer is never called once the channel is read the rotuines will all close out i just woke up from a nap so advice may be a little off so ymmv @notpaul are you checking that error from encode No but I never had to before always check your errors I rewrite the source code because it was a small project and it worked fine like I had it until it doesnt It's also not throwing an error its window.Window @Deleted User and what's import line ? You're importing it to a throwaway line like where you are creating the object Remove the `_` and yeah that too Or replace it with `.` global namespace :notlikethis: @notpaul `json:""name""` not `json: name""` Or remove that entirely and use the package name for exports So I tried reading the values from the channel but no dice. Looks like it\'s blocking on `c < 1` after a number of them execute```gofunc main() { c := make(chan int) var wg sync.WaitGroup arr := make([]int 600) wg.Add(len(arr) for index := range arr { go func(c chan int wg sync.WaitGroup index int) { fmt.Printf(""working on %v\ index) time.Sleep(1  time.Second) c < 1 wg.Done() }(c &wg index) } wg.Wait() close(c) for res := range c { fmt.Println(res) } fmt.Println(""done"")}``` move the done statement up a line You are waiting for goroutines before reading @NotBootstrap Your wait condition will not pass until all goroutines have completed But since you're using an unbuffered channel your goroutines will block until you read from them I'm getting panics because I'm sending to a closed channel yeah half alseep advice give ma second @Doad what would be the best approach to read them? Infinite for loop? In a separate goroutine And have your waitgroup wait for the writers AND the reader",,,0,1,0,1,0,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1904,10,2020-09-30T11:30:52.426000,"hi guys i have a problem with an 32bit (i686) nonPAE Linux System: All GOPrograms crush on startup with a segfault even the go command itself. If I crosscompile a GO Programm using GOOS=linux GOARCH=386 it runs fine on my AMD64 machine but if i copy it to the 32 bit machine the programm gets segfault immediatly. Someone had this before any compiler/linker options to try? ```var withHttp string sc := bufio.NewScanner(os.Stdin) for sc.Scan() { domain := strings.ToLower(sc.Text()) //withHttps = https:// + domain withHttp = http:// + domain fmt.Println(withHttp) resp err := http.Get(withHttp) if err != nil { log.Fatal(err) } fmt.Println(""Http Response: resp.StatusCode http.StatusText(resp.StatusCode)) }``` im trying to check every url with the status code  but it exit after the first one. Why? ```http://synergy2.search.yahoo.com2020/09/30 17:04:14 Get http://synergy2.search.yahoo.com"": dial tcp: lookup synergy2.search.yahoo.com: no such hostexit status 1```OUtput `log.Fatal` ohh instead of log.fatal what i can use? println? Literally anything that won't exit your program lol You'll also want to `continue` there yeh continue works thanks @Doad",,,0,1,0,0,0,0,0,,0,*chaos,,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,1363,8,2020-06-18T13:56:50.966000,"Hey guys i need help with gtk yet again im adding items to a `gtk.ListBox` but i am not sure why am i getting this```GtkCRITICAL : 15:55:38.055: gtk_list_box_row_get_index: assertion GTK_IS_LIST_BOX_ROW (row) failed``` ```godata := []Job{ { Username: name, Date: dateTime, }, } marshal _ := json.MarshalIndent(data   ) file err := os.OpenFile(""targets.json os.O_RDWR|os.O_CREATE 0755) if err != nil { log.Fatal(err) } n err := file.Write(marshal) if err != nil { log.Fatal(err) }``` are you intending to append to the file instead? `os.O_APPEND` docs are so gud okay my bad Oh yeah unmarshal and append",,,0,0,1,0,0,0,0,,0,*chaos,,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2457,34,2020-07-26T14:12:31.781000,Hello guys. Does someone know how to put in function any type like input argument? I know that Golang has static typing but maybe someone knows solution `interface{}` explicitly breaks the type system okey I think I understood) Thank you) nope there isn't i super duper promise ?ï¿½ï¿½ï¿½ it's repetitive but extremely clear so hm k. I cannot do something about the error at this point technically you should not be able to trigger them anyway.And if you somehow manage the procedure is fricked nontheless might as well just panic here aswell and let it sort things out strongly advise against panic panic is for when there is a 0% chance your program can proceed in any sane way and the only way to prevent catastrophic data corruption is to commit harikari ``if deezySeesPanic() { panic(deezy) }`` it's a well rehearsed dance routine same with unhandled errors or `handle(err)` yeah there's like a dozen of these that come in a week You are ignoring the error @Sgt_Tailor me? ?ï¿½ï¿½ï¿½ os.OpenFile returns an error you are ignoring it yes I know in main code I dont do that but here I just wanted to talk about address ?ï¿½ï¿½ï¿½ Don't think go expands the env variables If you handled the error it should tell you what it\'s attempting to do which is open the literal folder called $HOME as opposed to expanding it out but to fix your error here you should be grabbing the environment variable using ``os.Getenv`` (iirc) and format that into your file path hmm Thanks. or `path/filepath` probably has stuff for expanding things anyway thank you all. technically deezy's suggestion is more native but ?ï¿½ï¿½? filepaths are not as trivial as string concatentation ?ï¿½ï¿½ï¿½ what do you guys think about the latest generics proposal btw it's a good feature but i have little skin in that game,,,0,0,0,0,0,1,0,,1,,,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1889,9,2020-09-29T22:26:54.915000,hi all. if i have this structure ```ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½Äï¿½ï¿½clientï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½Äï¿½Äï¿½ï¿½client.goï¿½ï¿½ï¿½ï¿½Äï¿½Äï¿½ï¿½model ï¿½ï¿½ï¿½ï¿½Äï¿½Äï¿½ï¿½model.go```how do I import `model.go` inside `client.go` btw guys is that possible the tour go (excerises) are hard for newbies ? i know its excerises but still my face is like I've been doing go for 4 month it's not a go problem I'm just dumb there's a learning curve yes probably me too ?ï¿½ï¿½ï¿½ i have started 3 days ago the first step is always the hardest I thought the tour of go was hard. I use it as a litmus test now to test my own progress.,,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2217,58,2020-04-23T19:26:20.553000,"Ey so i\'m about to get started with go and i\'m trying to setup everything on my computer to get started. Using windows 10 and planning til use visual studio code. I need help with a couple of things. I want to install tools via GO extensions. If i use the go get command the git repository gets installed in my go\\src where all my project will be. But if use the install function in VScode the repository gets placed in the default GOPATH which i\'ve changed in system variables. What i wanted to have was a directory go\\tools where all the tools would be installed. Is this a good practice or should i go with where go get installs my files? holy just spent ages tracking down a bug only to learn that even if you pass a slice into a function if that function mutates that slice in place (using slice[i]) then it will mutate all across the function calls (even if thats in its own goroutine) expected i guess but also not @Oxano I'd get started with Goland on windows also the gopath installs all the tools to a bin path You cant change that goroot and gopath are as far as your influence extends Everything else is dictated by the universe this is like semi broken dysfunctional pip I swear I've had worse luck with pip I use Linux though pip is infinitely worse @Oxano I use windows fwiw Idk man I've been trying to properly use this for like a week now. I had py3 setup in 15 minutes @mmacheerpuppy okey The language is nice don't get me wrong but these docs suck go? nevet experienced any issue never by on windows do you mean as use notepad++ as IDE and no tools @mmacheerpuppy ? GOROOT points to where the go binary is installed with the gopath make an empty directory LITERALLY ANYWHERE and point GOPATH to it done he should rather learn how to use the gopath properly instead of changing it to point to different places constantly as that is redundant i mean thats what i'm talking about set this up once and just leave it i've upgraded my vps through nine different go versions and used the same GOPATH dir the whole time I had go set up in 3 seconds how does go build work? i get the can\'t load package ? not sure what he meant saying that there are no docs regarding setting it up as literally the first google search returned me a complete guide i mean depends on what you did wrong either your code is broken or your go environemnt is can you only do go build from the directory itself? ?go setup How to write Go code <https://golang.org/doc/code.html>  IkkerensHow to set up your Go environment <https://golang.org/doc/install>  Ikkerens first link Set it up once and leave it is the best advice Until you have straddled enough with it to whimsy around @Oxano Use go modules. Learn go modules. Everything before it is depreciated. Do not use dep and pass Go do not collect 200 dollars. so i read about modules but i dont really get what they are/do @mmacheerpuppy and how to use em Then that's your first task That's the first thing you have to do when writing Go so uh a lot of problems in go come from assuming things need to be more complex than they are `go mod init` main.go ```package mainmain () {// code}``` then in there you can go run . ```bashmkdir hellocd hellogo mod init helloworldcat <<EOF > hello.gopackage mainimport fmt""func main() { fmt.Println(""Hello world."")}EOFgo build ../helloworld``` go mod is good and then I never used it What do most people use on windows to keep their go processes alive? pop is just reslicinf right keep in mind with append you have to reassign it back to the variable you're appending to so:myArr = append(myArr valueToAppend)right?",,,0,0,0,1,0,1,0,,0,,,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,9,32,2020-08-01T04:57:40.797000,"how i can split a string of numbers and letter ( A9"") and read separately the number and the character? couple ways i suppose you can literally loop over strings so you probably want to start with that exist a native library similar to ctype ? go lets you interact with c code sure cgo thanks but what is the Go way? :thinkingo: do what works A9? that looks like hexadecimal no no and why would there ever be a library to do this the string is similar A9 K10 and i need separte the character and the number maybe a regex depends on how reliable the patterns are `a[0] + a[1:]` because in c++ exist ctype and i am new in go what does ctype have to do classify characters package unicode https://godoc.org/unicode or just use a regex thanks @deezy and @_diamondburned_ i will try `([AZ])(\\d+)` yeah np :hugged: Yeah no trace of that one on the internet besides a github",,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2355,23,2020-07-23T01:47:05.964000,What's the fastest way to parse commands. I want to split on spaces unless there are quotes around the arg like `$say my message channel` would be split into the command say and then two arguments sounds like you want something like https://github.com/akamensky/argparse or https://github.com/alexflint/goarg or just good old flag https://godoc.org/github.com/google/shlex exists Do those only take input from the command line or can I pass data from discord message objects? https://godoc.org/github.com/google/shlex#Split check the docs see what Split() accepts as its parameter +1 shlex so overkill it parses comments dunno if that's good or not lol Ooh I like this Thanks mattn/shellwords is another one this one allows command evals and env vars :KEKW: only when enabled tho My cursed thingy does work toohttps://github.com/LaevusDexter/statemachineplayground/blob/master/argumentparsing/argument_parser.go goimap by the one and only emersion,,,0,0,0,1,0,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2421,18,2020-04-29T18:23:55.148000,"Hey all i was wondering what\'s the good way to handle channel replacement? I seem to be getting a data race but adding a lock would most likely lead to multiple replacements which I\'d like to avoid if possible. ```gofunc channelReplace() { pubsub := redis.Subscribe(""channelname"") pubsubChan := pubsub.Channel() for i := 0; i < 100; i++ { go func(i int) { for { select { case msg ok := <pubsubChan: if !ok { // If a ping is failed Redis automatically waits 30s (can\'t config) // We want to kick it as 30s latency is kind of bad. // DATA RACE CONDITION HERE pubsub = redis.Subscribe(""channelname"") pubsubChan = pubsub.Channel() continue } someOtherFunc(msg) } } }(i) }}``` Hi ! I use GopherLua but i don't know how execute function as type LFunction```gofunc state(l lua.LState s int) func() { return func () { l.ToFunction(s) }}```how execute l.ToFunction(s) ? Do you know any any go library which supports JWE (encrypted claims)? have you tried googling None Yea I did but not successfully using some other terms lol why didnt you try jwe golang if youre looking for a go lib with jwe :bruh: Chill bro next time I won't be asking anything here anymore. I am sure you never did mistakes holy Is this error handling is good? Or I\'m doing wrong?```gologFile err := os.OpenFile(""errorLog.txt os.O_APPEND|os.O_CREATE|os.O_RDWR 0666) if err != nil { errors.Wrap(err Failed to create/append errorLog file"") log.Println(""Log.go function Loggin Error opening error errorLog file || err) }``` cHilL brO why the log? just return the wrapped err and log at top level errors.Wrap returns a new error that you should use instead @MantasSil Idk I had log everyone before I watched dave video. Didn't wanted delete them before I asking in here",,,0,0,0,1,0,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2417,27,2020-04-29T16:18:52.025000,"Anyone know of some good resources for learning gRPC? Went through the tutorials on the website but still feeling a bit lost. Is it even possible to spawn too many goroutines Or would that just be an OOM error on the heap why don't you find out um ```gofor { go time.Sleep(time.Minute)}``` ah good call ty Which one is more preferred:```goif err := viper.ReadInConfig(); err != nil {}``````goerr := viper.ReadInConfig()if err != nil {}``` And I mean the if statement in general Not sure what above is actually called ?ï¿½ï¿½ï¿½ In this case when you only return an error there's really no reason not to do the first yea I do the first unless the line is really long If the function returns more than just an error sometimes you can't do the first since it scopes all variables to the body of the `if` ^ sometimes if you don't need it then you can ```goif _ err := io.Copy()``` Thanks ?ï¿½ï¿½ï¿½ Ahh yeah true. Thanks ```gofunc (res resource) getUser(c gin.Context) { id := c.Param(""id"") user := entity.User{}  err := res.db.Get(&user SELECT  FROM users WHERE userId = ? id)  if err != nil { c.String(http.StatusNotFound user with ID %s not found id) return } c.JSON(http.StatusOK user)}```I have this small handler for getting user with Id from db. Am I handling the error correctly here.I\'ve seen people putting panic on those situations Ex where user is not found.If I understand panic correctly it should be the last resort? lgtm yeah that makes sense channels or mutexes depending on your usecase there are even more things you can do depending on the circumstances",,,1,0,0,0,0,0,0,,0,*chaos,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,9,62,2020-02-01T14:56:33.527000,Hey Iï¿½ï¿½ï¿½m playing with `sync.WaitGroup` right now and in my use case I have a channel lagging behind and I want to wait until everything finishes.Problem is that in my main program I run `wg.Wait()` before some operations even start and I want to keep increasing the waitgroup in other goroutines while the main function still waits. I canï¿½ï¿½ï¿½t do that because I get ï¿½ï¿½ï¿½panic: sync: WaitGroup is reused before previous Wait has returnedï¿½ï¿½ï¿½.I could create a new channel for keeping my own account but is there a better solution with waitgroups? or should I opt for using go as a backend for a localhosted webapp and just using HTML & CSS for the gui part? in windows how do i set GOOS i do `GOOS=darwin` and it not do anything give me error set GOOS=darwin in cmd not sure about powershel alternative Is this the place to ask about vscode integration for go? yes Ok cool. I'm trying to clear up some confusion I have. Are the vscodego extension and the gopls language server alternatives to each other? Or is there overlap/requirements? ``` }<<<< }else{``` can you even do an else for a for loop oh man use gopls if you plan to use modules it's supposedly the new stanrd supported thing even if it's kinda garbage atm @luckcolors this is the reason I'm asking yeah. I will be using modules. sorry if i'm salty about this OK then it's not just mean. I have a fresh reinstall and I had a lot of problems with gopls on my last install. I thought I totally messed up the install at the time. it's just that in general it sometimes needs you to reopen files so that it understands that say u have imported something new or changed a import/package name @djacob also be sure to have a proper gomodule path for some reason it would give a criptic error that would totally break imports just noticed that there's an update hopefully that one is fixed now on any case now you know ?ï¿½ï¿½ï¿½ Ok thanks. So I do not need to install the vscodego extension? Just install the language server and point vscode to it? no you do need the vscodego extension then you can configure the exstension to use use gopls atleast that's how i've done it it should ask you about switching to go pls if you open a go mod project if i remeber correctly Ok. I'll clone my repo and see what it says. ye I'm just confused about the overlap between the two. i honestly never checked it just went > look for go vscode ext in market > press install > extension installs required tools > done Ha that\'s what I did last time. I just thought the reason I had all these issues was me blindly pressing yes install it! until it worked. vscodego initializes gopls and is the interaction point for vscode to gopls @djacob @djacob nah that's how it's supposed to work btw fixed my import module shaningan thanks anyway @Str?ï¿½m ah super thanks. okay i haven't fixed my go mod version problem can someone help ?ï¿½ï¿½ https://github.com/golang/go/wiki/Modules#releasingmodulesv2orhigher @deezy i've done just that added a /v2 in the go module path git commited git tagged v2.0.0 that commit that's step 1 synced the tags wait these are alternatives ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ beats me Update import statements within the module to also use never had to release a v2 before i don't have any internal imports it's just a plain package solved by not using a v2,,,0,0,1,1,0,0,0,,0,,,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2467,26,2020-07-27T02:33:17.618000,"hi everybody I'm relatively new in programming. Could someone explain why Golang has both garbage collection and pointers? I thought languages with garbage collection didn't need pointers. Thanks in advance pointers are in no way mutually exclusive with garbage collection a pointer is just a memory location which is an extant Thing that can be tracked by a runtime if you design it to do so. wdym didn\'t need pointers""? they really don't have much to do with each other as deezy has pointed out the semantics of what pointers do may be affected by how/if garbage collection works but uh this is like saying hondas shouldn\'t need red paint really crude metaphor i kinda choked but that's the gist unintentional pun but you said crude (oil) the message after talking about cars ?ï¿½ï¿½ï¿½ ...i find things too funny oh ok thanks guys! I'm a new person here I like your profile picture I like your name Kinda hungry atm I'd suggest to run. Thanks hungry now Hello donut nice profile pic thank you I have omellete Much yummy than a 1month old donut (psss #offtopic join us) Gimme a block of cheese > (psss #offtopic join us)@aditya ok",,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,32,13,2020-02-02T09:07:48.386000,Hey guys I'm not sure where to write this but I'm kind of in between projects and would like to work on a medium sized open source project. Does anyone want help or know of such a golang project? Any thoughts why? Expand a little bit? None they're not exported Oh you mean the first letter isn't capitalised yes I didn't know it would affected Okay thanks other packages can't see unexported fields yw Ah right. HiI'm implementing a client generated from thirftI wrapped the client with my own struct typebut what I want to add is the ability to check for a specific errorWithout the API user needs to check the error messageI mean for each API call I will first check the error and handle it,,,1,0,0,0,0,0,0,,0,*chaos,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,1461,68,2020-03-27T17:57:27.325000,"has anyone ever tried using a `cgo` generated DLL in `MSVC`? Would that even be possible? Anyone know if there is a GNU Bison grammar for Go floating around on the internet out there? Haven't had luck finding yet and the version 1ish Go compiler's is pretty infernoy. \\before a potentially waste time remaking there isnt at least not official the go parser and lexer are hand written Just remembered that msvc is a compiler u can just build it with`CC=<path to msvc compiler>` env var but idk how to do this on windows @Fohlen also what are you looking to do cause go's parser is available in the standard library Non official is totally fine. I have a lot of GNU Bison specific tooling I want to hook into so go/ast go/parser isn\'t great here `But taking in an argument as an int and casting it does not (it's ignored)` yeah that's fine @Laevus Dexter I will give it a try just had to check if you were actually doing something bison specific @Maximonee > But taking in an argument as an int and casting it does not (it's ignored)is it? did you print out the result of that expression? `Timeout: time.Duration(opts.Timeout)  time.Second,` do you think it will build even? I thought there was a hell of a lot of issues with cgo and MSVC i did it's printing the same way `5  time.Second` does (`5s`) okay why do you think it's being ignored because I have a sample URL im sending a request to that should hit the timeout. and it only does with `5  time.Second` and not the other. The other hangs indefinitely well the code snippets you've posted are correct so you're doing something wrong somewhere else @Fohlen ye if msvc use a different from cygwin abi then it's oof cgo expects gcc generally clang is also supported @deezy thanks  I'll take a look elsewhere but wouldn't it make sense that because replacing the int command line flag with an actual int fixes it it should be related to this? The flag is a simple `flag.IntVar` but if you've got a dll that's been made by cgo I don't see why you couldn't link to that with msvc @Maximonee can you show the lines related to the flag? are you remembering to parse? @Maximonee All I can say is check your assumptions if you've forgotten to parse that'll give you 0 which won't time out ?ï¿½ï¿½ï¿½ well they said it printed out with the 5s value but yes hmm fair enough it's entirely possible that your flag is being initialized to zero and never being set in the real code and not the toy code they wrote for the channel @superloach I believe I've parsed ?ï¿½ï¿½ï¿½ (https://github.com/ameenmaali/qsfuzz/blob/master/utils.go#L36) It's very possible I'm doing something wrong I'm pretty new to Go in general..but i just cant seem to figure out why/what are multiple flags on the same var valid? I can't recall never thought to try that oh duh https://github.com/ameenmaali/qsfuzz/blob/master/httpUtils.go#L15 this is a package level variable which means it's initialized at startup you don't parse() until whatever function is called so ?ï¿½ï¿½ï¿½  what is `opts`? your transport the transport is initialized before you parse exactly put the parse and the transport (in that order) into an `init()` uh i'd advise against init() why's that too spooky just write a function that creates a Transport from your opts struct call it after you parse your flags easy no magic no globals fair enough ooh that's really interesting I probably would not have caught that haha  thanks I'll do that! absolutely crystal clear flow control I don't like things being created magically",,,0,0,0,0,0,1,0,,0,,,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,37,16,2020-02-02T18:08:26.041000,"hey guys is there a time.Format() format string that returns what day of week it is in number form? like monday ..0...sunday ...6 relative to the week and not the week in month so that time.Format(time.Now format"") > 6 understand that it is trivial to calculate but i was wondering if go had something like this already Question any good git libs for golang?I am looking for `push pull commit,` and user management as multiple users will have access to the same directory basically i plan on writing a tool to let a user Init a repo they clone with their own git config https://github.com/srcd/gogit thanks @Gardod i'm blind lol that looks like it thanks ?ï¿½ï¿½ï¿½ I was loking for a format string tho that would have been better but ye also what i need is weekday not Weekday().String() yeah there is no notation for day of week. if you need an int its better to call weekday anyway instead of format and then converting",,,0,0,0,0,1,0,0,,0,,,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,80,6,2019-11-04T11:25:58.719000,is a way to check pressed key on gamepad in golang? Do you need to support multiple platforms? Linux/windows/mac? On linux for example the kernel creates a device in /dev/input/js which you can read. https://github.com/splace/joysticks does this @Sgt_Tailor WINDOWS ONLY sorry for caps @Szahid Maybe try this: https://github.com/simulatedsimian/joystick,,,0,0,0,0,0,1,0,,0,*answered but not acknowledged,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2291,27,2020-04-25T21:37:17.313000,How do you guys handle struct field comments? I've thought on two possibilities and I'm unsure of which to choose.Option A: Comment on top of each field similar to other languages the downside is that if someone else is using your package (and didn't look at the source code) most popular IDEs (and vscode) are not going to automatically print that message on top of the field (at least that's what happens on my machine).```type CoolStruct struct { // Set this value as high as you can the world needs more people with groove Groovy int}```On this case we'd lose the information on field Groovy unless someone opened the source code (which people will definitely do or do something familiar like reading the docs of the package).Option B: Do something Flutter/Dart like. You can comment on the top of each field (class methods or function parameters) using Dart/Flutter but also you can do something like this```// ChillStruct is just a struct that is very chill//// [ReallyVeryChill] if true this ChillStruct is not only chill but really// very chillalmost to the point of people thinking it has no other emotions// than the ones needed to keep its cool.type ChillStruct struct { ReallyVeryChill bool}```I'll be going to publish some packages soon and due to time constraints I'm unsure if I'll be able to properly document everything in a wiki or readme which is why I'm considering something more akin to Option B though I haven't seen it in go. you want the former along with a comment above the struct that explains the struct Yeah they are commented already I didn't commented here though also vscode does show field level comments I knew it Mine probably has something off None Thanks for telling me that I'll probably recheck every PATH or things like that ?ï¿½ï¿½ï¿½ Cause I remember that I used to see them if youre using go modules and gopls you should have them So the default provider doesn't show them? whats the default provider The other thing besides gopls just forgot its name ?ï¿½ï¿½ï¿½ havent a clue what it is :p lol language server just rechecked it:https://github.com/Microsoft/vscodego/wiki/GomodulessupportinVisualStudioCode I mean the pls is the language server the default go tools are used to feed vscode information vscodego uses gopls by default it hooks gopls into vscode as such (if you werent aware of how lang servers work) Mine for some reason was false as default just set it to true now lol But btw thanks for clarifying things up I was about to commit the abomination of mixing language conventions because I just discovered my editor was messed up =v :^),,,0,0,0,1,0,1,0,,1,,,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2600,36,2020-07-31T08:02:18.599000,"any suggestion what I can do to add a return in this function?```func deleteSystemProperties() string { list := []string{ Solution + prod"", Solution + stag"", } for _ s := range list { client := &http.Client{} URL := https://domain/admin/drop/ + s v := url.Values{} req err := http.NewRequest(""POST URL strings.NewReader(v.Encode())); req.SetBasicAuth(""instanceproperties G4ez4uvw+d?5qh+V3Y9FeAGTA@rWwE"") resp err := client.Do(req) if err != nil { log.Fatal(err) } bodyText err := ioutil.ReadAll(resp.Body) r := string(bodyText) return r }}``` Goland is telling me i need a return after my for loop because if `string` i\'m little confused what to do @zyxep you need to add a return afte the for loop as it says but i'm not exactly sure what to return since i have my return inside the loop Why do you have the return in the for loop That doesnt make any sense Youre only processing the very first item in the list that way :shrug: no clue about that tbh Did you not write that code? not completely no it's from the godocs for NewRequest Im sure they didnt put the return inside the for loop oh i put the code in the loop instead of having it twice Do you understand what return does yes more or less So do you see why having return in the loop doesnt make sense here ya Good lad Do you know what to do to fix it no tbh.. otherwise i wouldn't ask.i have tried to put it outside of the loop but ofc i can't access the response etc outside Well so theres multiple response bodies yes? yes for each request So what do you use when you have multiple of something well just a print ofc Uh No That doesnt store multiple things Do you even need the response bodies actually no it only returns http codes if it's okay or not And what do yoi wanna do if all are 200 print out a message saying successfully <something> What if one or more is not 200 but not all Print another message So youll wanna keep track of if anything was not 200 right? Think you can figure that out? Dont think you need the response body for that",,,0,1,0,0,0,1,0,,0,*no response,,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1896,11,2020-09-30T06:53:51.762000,"Hi has anybody got experience with building a scratch docker image for a go rest API? I have built it but get an error when trying to run it... @_diamondburned_ so it basically insures that all the modules have the init() called and I suppose bootstrapped. Then in the main call you'd simply import the all.go to make sure it's all invoked? Is that the idea? yeah but not sure about the all.go part What error @KiwiFPV ? You probably didn't disable cgo It says OCI runtime create failed...container_linux.go:349 exec /binsh\\"": stat /bin/sh: no such file or directory well you can exec things in a scratch container there's no shell that's the point of scratch The command unused was CGO_Enanked=0 GOOS=Linux go build a installsuffix Cgo o main I used..sorry typing from phone and fat fingers",,,0,0,1,0,0,0,0,,1,,,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1859,8,2020-09-28T19:23:48.900000,"Hi all! I\'m reading <https://www.sohamkamani.com/blog/2017/10/18/parsingjsoningolang/> for dumping JSON into a map but I\'m a bit lost on the following snippet ```gobirdJson := `{""birds"":{""pigeon"":""likes to perch on rocks"",""eagle"":""bird of prey""},""animals"":""none""}`var result map[string]interface{}json.Unmarshal([]byte(birdJson) &result)// The object stored in the birds key is also stored as // a map[string]interface{} type and its type is asserted from// the interface{} typebirds := result[""birds""].(map[string]interface{})for key value := range birds { // Each value is an interface{} type that is type asserted as a string fmt.Println(key value.(string))}``` Specifically what the `.` operator does in `result[""birds""].(map[string]interface{})` and `value.(string)` anyone got experience with cqrs and event sourcing? ?ï¿½ï¿½ï¿½ lets say you have an http endpoint which accepts commands serialized as json. this endpoint is used by a simple html frontend. it just creates a command based on input and sends it off.now how does the backend handle this? does it read the command push it into a queue for processing and return immediately?does it try to execute the command leaving the frontend waiting for the response?in the former you\'d need some kind of x command failed event There isn't really any right answer and to an extent probably depends on how long you expect commands to take. In the former case you'd need some OOB way to get the results of a command but leaving an HTTP request sitting for minutes probably isn't reasonable. Seconds? Maybe sure. There's nothing in HTTP itself that stops you from having it sit and spin but you don't control the entire pathï¿½ï¿½ï¿½intermediate routers and clients often have timeouts in the order of tens of seconds. also are you going to use only HTML or with JS as well? I expect commands to finish rather quickly in most cases. Mostly Created and Set events.> also are you going to use only HTML or with JS as well?HTML+JS. oh if it's within seconds I'd use HTTP",,,0,1,0,0,0,0,0,,0,,,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2338,36,2020-04-27T04:48:52.643000,Can you explain why in go you need to write the keyword func before declaring a function? Why it was impossible to do without it and do it like in C? Pls ping > keyword func\\ wut https://github.com/mojodojo101/c2bins so i got my first golang project in a useable state now may i ask which of the sins i commited here should be fixed first the c2server is the interesting part > wut@deezy func main() {}  like this why not main() {} i don't follow None those are identical their question is why do you have to write `func` to declare a function when in c you just write the prototype i ll probably move the setup stuff in my main to sth else aswell looks very ugly atm and the reason is because go is designed such that you must write `func` to declare a function it probably simplifies parsing by a lot thx my main question would be does it make any sense to import different usecases https://github.com/mojodojo101/c2bins/blob/master/c2server/pkg/client/cusecase/client_usecase.go here or should i rewirte this all and just directly access the repositorys cannot refer to unexported name math.floor undefined: math.floor .F no lowercase allowed in golang ^^ got lots to learn if you haven't already i really recommend you do the tour A Tour of Go <https://tour.golang.org/welcome/1>  Skippy also worth mentioning that Go has return types after function arguments not before Can a type implement an interface if some of the required methods take a pointer receiver? is there a stream of someone building some small go apps that interface q is a good one I remember answering this afaik it automatically dereferences but not references so you use &T{} shown here: https://play.golang.org/p/zRA5KnIdrf change `&Type{}` to `Type{}` and it won't compile,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2439,25,2020-04-30T13:25:57.083000,"Hi all!,\rI am struggling with a very basic snippet where I am not able to see where the problem is. I am coming from Python to Go. Does any one can spot the problem ? \r\rThe compiler says:\r./main.go:29:14: too many arguments to conversion to render.JSON: render.JSON(w r articles literal)\r./main.go:31:13: too many arguments to conversion to render.XML: render.XML(w r articles literal)\r./main.go:33:14: too many arguments to conversion to render.JSON: render.JSON(w r articles literal) But the signature is this AFAIK it should be fines (JSON(w http.ResponseWriter r http.Request v interface{}) Can you post in pastebin or something can you paste the code in chat Viruses ```package mainimport ( net/http"" github.com/gingonic/gin/render"" github.com/gochi/chi"" github.com/gochi/chi/middleware"")type articles struct { Name string `json:""name xml:""name""`}func routes() http.Handler { r := chi.NewRouter() r.Use(middleware.URLFormat) r.Get(""/articles/{id} listArticles) return r}func listArticles(w http.ResponseWriter r http.Request) { urlFormat _ := r.Context().Value(middleware.URLFormatCtxKey).(string) switch urlFormat { case json"": render.JSON(w r articles{""json""}) case xml"": render.XML(w r articles{""xml""}) default: render.JSON(w r articles{""default""}) }}func main() { r := chi.NewRouter() r.Use(middleware.Logger) r.Mount(""/ routes()) http.ListenAndServe("":3333 r)}``` why are you using gin render with gochi :fellas: gin?m I am not using gin github.com/gingonic/gin/render oh!! yes you ar e aarrgh xDD sorry wrong import? `https://godoc.org/github.com/gingonic/gin/render#JSON.Render` yes you were right apologise thanks a lot for your time i think it would still work sure itl work I don't to use gin though cuz it takes responsewriter not gin stuff but its now what they wanted to use Are they in the same package the code builds... just the editor is giving me grief about it",,,0,1,1,0,0,0,0,,1,,,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2287,39,2020-04-25T19:31:27.968000,"is there anyone who can help me with the issue? n addr err := c.ReadFromUDP(buffer)causes the error: panic: too many concurrent operations on a single file or socket (max 1048575) well does no hoenstly idk why its happening i dont see any concurrent operations ?ï¿½ï¿½ is there a documentation about the issue like concurrent ops in port seems like you reached kernel limit or sth ulimit what may cause it? > The limit is pretty high as the error message says. If it makes a difference for a real program you'll need to use a semaphore of some sort to restrict the number of concurrent writes. ye the funny thing is I\'ve just started to golang and I am trying to create a basic udp server and the biggest message i send to server is hi i feel ur not showing all ur code post the whole thing package mainimport ( fmt"" net""// os"" //""strconv"" strings""// time"")func main() { PORT := :1234"" s err := net.ResolveUDPAddr(""udp4 PORT) if err != nil { fmt.Println(err) return } connection err := net.ListenUDP(""udp4 s) if err != nil { fmt.Println(err) return } fmt.Println(""Server Started!"") defer connection.Close() for { go handleUdpConnection(connection) }}func handleUdpConnection(c net.UDPConn) { for { buffer := make([]byte 8) n addr err := c.ReadFromUDP(buffer) if err !=nil { fmt.Println(err) fmt.Println(buffer) } fmt.Print("">  string(buffer[0:n1])) if strings.TrimSpace(string(buffer[0:n])) == STOP { fmt.Println(""Exiting UDP server!"") return } fmt.Println(""address addr) data := []byte(""la""); _ err = c.WriteToUDP(data addr) if err != nil{ fmt.Println(err) } }} ```go for { go handleUdpConnection(connection) }``` theres ur problem lmao feels XY man https://www.linode.com/docs/development/go/developingudpandtcpclientsandserversingo/ there is a code which is concurrent tcp server and it runs handleConnection in for loop i did the same in udp tcp code works also i tried why does it cause problem in udp its not the same code ```go c err := l.Accept() if err != nil { fmt.Println(err) return } go handleConnection(c)``` compare that to how you do it ^ Accept blocks until there's something connecting to it `go anything()` doesn't block hmmm that makes sense may you recommend a comprehensive resource about socket programming in go the go docs are pretty good at explaning it all",,,1,1,1,0,1,0,0,,1,**incomplete,,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,70,76,2019-11-04T03:37:25.371000,Anyone knows how to make `json.Marshal` produce an error? I can't think of how why would it produce an error? oh it does already yeah it returns an error Yeah I\'m not sure in what circumstances. Cause the argument given to it is clean in the sense that the type is already known at compile time the question is underspecified Oh Sorry just saw it takes an interface{} cyclical pointer loops invalid types etc Oh ok ok ``` Interface values encode as the value contained in the interface. A nil interface value encodes as the null JSON value.Channel complex and function values cannot be encoded in JSON. Attempting to encode such a value causes Marshal to return an UnsupportedTypeError.JSON cannot represent cyclic data structures and Marshal does not handle them. Passing cyclic structures to Marshal will result in an infinite recursion. ``` Oooo Okay thanks will keep in mind @Doad Oh Then the error isn't returned during marshalling but instead during type checking well type checking is part of marhsalling Ohhhhh you don't do```err := json.TypeCheck(yourThing)``` Wait I am making a wrapper over `json.Marshal` which takes in a struct and marshals it with `json.Marshal` if no error return the marshalled if there's error just return a `[]byte{}`. So does that mean the wrapper function is useless since the struct is a valid value and the error will never be returned? Sorry meaning? @deezy In response to @Doad s definition meaning that the marshaling process intrinsically includes the type checking they're not distinct from each other logically Oh okay so don't do that outside of marshalling noted if you have cyclical references marshalling fails just by nature ```func handleMarshalling(services models.BusServices) []byte { marshalled err := json.Marshal(services) if err != nil { return make([]byte 0) } return marshalled}``` So this is useless right? `services` is just a struct with a few fields of slices well i'd say it's useless because it doesn't return the error rather than any other reason or at least idk the error handling is suspect basically Lol ?ï¿½ï¿½ï¿½ The error handling for the function I posted? @deezy It just seems to ignore the error Doesn't log it or report it in any meaningful way Oh okay that function wouldn't indicate in any noticable way what actually went wrong you either get a nonzero []byte or a zeroed []byte it doesn't let you know if you pass in bad input or not what if hypothetically the input provided actually legitimately evaluates to a zeroed []byte in a nonbroken scenario Oh yeah didn't think about that Now it's entirely possible that you can be 100% sure that a zeroed []byte is non legiitimate That's totally possible But there\'s a big difference between here\'s a zero value and here\'s a zero value and an error in all fairness i can't think of anything of the top of my head that would in a nonerror state evaluate to a []byte json representation closest you can get is an empty string array etc oh yeah But it's an important thing to keep in mind Okay thanks man There may very well be valid nonbroken inputs that evaluate to empty outputs. So you have to distinguish between broken input and empty input Btw would you know why this value is being printed? https://play.golang.org/p/RIWcI8uvTnK @deezy Aight noted Sorry the value is `[110 117 108 108]` https://play.golang.org/p/fF33jedkQm Wait is that the value of `nil`??? when you marshal a `nil` value to json it becomes `null` n u l l and you're printing the bytes from that string Oh... I didn't know there was such thing as null I thought it was `nil` only in Go yes null is a json type Oh.. okay I think I get it So it's nothing to do with Go https://restfulapi.net/jsondatatypes/ Yep that makes sense string number boolean null object array those are the things that json can represent anything being marshalled or converted to json is being converted to one of those Oh okay I see thanks @deezy,,,0,0,0,0,1,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,44,47,2020-02-02T23:08:26.103000,is there some buffer that is not consumed but can be reset to its initial state? bytes.Buffer? is consumed wdym initial state like when I write some bytes I'd like them to stay where they are after a reset while still supporting the io.Reader interface wdym stay where they are? im assuming he means back to the original buffer I want to have a reusable UDP packet buffer before modification but the content is consumed after a read https://golang.org/pkg/bytes/#Buffer.Reset ? store the initial size then re slice it ? can u give us an example ur explanations are cnofusing use a TeeReader to write back into the original buffer : ) terrible idea probably wouldnt work I construct a udp packet that contains specific bytes. when sending it the underlying content is kind of flushed. e.g. ```io.Copy(conn r)```. I want the flushed content to be somehow reset to its initial state where the constructed bytes are not flushed. @jxsl13 bytes.Reader ? it implements the io.Seeker interface with which you could reset to 0 I don't understand the point read bytes will be there even after resetting the packet is empty after it has been sent. I want to reset it to a state where the bytes within the packet remain the same after a read/sending to a destination. :thonk: what is the reader type bytes.Reader Packet implements the Reader interface by using an embedded bytes.Buffer so you want to send the same udp packet many times? yes can you change it to a bytes.Reader instead just use `conn.WriteTo(packet)`? https://golang.org/pkg/bytes/#Reader `A Reader implements the io.Reader io.ReaderAt io.WriterTo io.Seeker io.ByteScanner and io.RuneScanner interfaces by reading from a byte slice. Unlike a Buffer a Reader is readonly and supports seeking. The zero value for Reader operates like a Reader of an empty slice.` yeah it does everything yeah reader seems to do the job good lad u would read until EOF then seek 0 righ t Strum and Deezy save the day yet again ?ï¿½ï¿½ï¿½ oh wait u would reset i guess :googlemuscleL: :kkk_happytourist: :googlemuscleR: seek 0 vasily > yeah reader seems to do the job:StareNeutral: I wonder if there is something like Reader that also supports the io.Writer interface ._. I wonder too https://github.com/golang/go/wiki/Modules,,,1,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,49,12,2020-02-03T03:29:59.214000,```godone := make(chan struct{})done < struct{}{}```why is an empty struct being used here over for example a boolean?is it simply to save the memory that storing a boolean would otherwise take up? pretty much struct{} is the smallest possible thing is this a common idea to expect to see? it is only saving 1 byte it is a common idea relatively common yeah and not sure about the 1 byte part I think it has to do with more Could it possibly affect GC if you have multiple channels? Anyone have experience working with ble on Pi Zeros? @atthesunrise it's really just to indicate that it doesn't take a value I can see the use of that thank you for pointing that out,,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2431,51,2020-07-25T14:08:09.989000,does cgo slow down a program down a lot? I wrote something in go and out of curiosity rewrote it in C to see how much faster it would be its 7.35 times faster in C Theres overhead between Go and C in cgo I'm thinking I could try and use cgo for what I wrote in C whatd you write? neural network its still kinda WIP cuz im trash at C but it is a lot faster But writing a NN in c was pain I really don't want to do the rest of this project in C lol Could be that your translation was inefficient Idk how good you are at go was literally my first project in go could be i suck at go i dunno I'm not sure how to write efficent go code tbh If you showed us what you have thatd be a start https://github.com/IanPoggers/neat/blob/master/neat.go right now all it can do is generate a random network and run it I am going to make it so they can mutate so I can use genetic algorithms to make them better at things cgo has a high cust in overhead because memory model of go is really differentyou only must to call c from go when you really need. Pure go code is way faster then using cgo rna'? what do you mean by that i dunno what that means > rna'?@Ian Poggers means artificial neural network. I wrote in portuguese. Sorry O I did write it in go then rewrote it in C out of curiosity (also as a challenge cuz C is really no ideal for writing NNs) and the c implementation was a lot faster maybe I made a lot of mistakes in my go implementation c is not ideal for anything but it is the best at everything with an appropriate budget I was able to pump it out pretty fast in Go but god C was such a pain lol I am very new to both languages you can acquire performance doing parallel processing > c is not ideal for anything but it is the best at everything@deezy now we have rust huehuehue Rust seems really cool I was looking over its documentation I am amazed it can be so fast while having so many features its on my list of languages to learn go is good for parallel processing. You can get near c performance by parallelizing Yeah async is super easy in go that's the beauty of go I have never tried async in C the only thing I cant program in go for unix is write a kernel module. the skill floor for an equivalently fast program is much lower in Go > I have never tried async in C@Ian Poggers pthreads are hard to get and are very error prone. the cmd/root.go should be `package cmd` ok,,,0,0,0,0,1,0,0,,0,,,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2348,79,2020-04-27T12:30:16.197000,"Why does golang think that this is an invalid command line arg?`config=""..\\api_config.toml""`Edit: using flag btw needs more context generally speaking if you're getting an error show us the error don\'t just say code no work `Invalid command line arg config=..\\api_config.toml` I practically said the error ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ but you didn't anyways now show your code well its good to show it anyway so people know they dont need to ask for it because that flag is valid which means yo udefined it incorrectly is there a way to parse a dynamic page? it doesn't occur at a specific point in the code as far as I can tell  it just happens after the program runs after the whole program is finished. well the problem is with the flag so which section of code do you think might be relevant? maybe the part where you define your flags? :thonk: ```goconfigPath := flag.String(""config  the file where the config is stored"") flag.Parse()``` hm well there's some sort of disconnect write a minimal reproducing sample okay because 1) that snippet defining the flag is correct2) you're still getting that error so either you're not running the code you think you are or you're not providing the flag you think you are or something else i'm still not awake enough to enumerate Could it be you need to use `` instead of ``? nah stdlib flags are explicitly only `whatever` Ah okay. I'm used to pflag sorry maybe the terminal is doing weird/dumb parsing/escaping stuff Afaik no need in quotes but it shouldn't hurt `config=""..\\api_config.toml""` also you're on windows so uh a whole bunch of stuff goes out the window there Is it possible that because I run the program with `main api config=""..\\api.config.toml""`? idk man you keep providing these tiny snippets of info I'm trying to make a reproduceable example but I can't get it to work not enough to work with Isn't in windows a slash thingy turned in another direction just copy paste the ENTIRE section where you RUN the code AND the error it spits out like discord doesn't charge you perletter like a telegram I think something that\'s using the configPath variable is throwing the error. It looks like configPath is an empty string in the following example```gofunc main() { switch os.Args[1] { case api"": configPath := flag.String(""config  the file where the config is stored"") flag.Parse() log.Print(configPath) }}``` yeah flag doesn't do that flag just does flags you have to do extra legwork https://golang.org/pkg/flag/#FlagSet.Parse see how long it took for me to help you because you kept showing tiny little pieces? I could not show you my entire program sorry. It's way too big. i know i didn't ask for that. i asked for the section where you defined your flags and the full invocation of your program with the error output explicitly i had a feeling this was the problem but i couldn't be sure I showed the entirety of my flags portion: https://ptb.discordapp.com/channels/118456055842734083/118456055842734083/704309448449064971 ``` switch os.Args[1] { case api"": configPath := flag.String(""config  the file where the config is stored"") flag.Parse() log.Print(configPath)``` but you didn't you showed one line That was my minimal version right and it's relevant because it's part of your argument handling/definition Yes I sent it to you as soon as I figured that bit out anyways i'm not trying to yell at you or anything anyway thanks ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ just trying to make a point about providing context for your questions :heartrotate:",,,0,1,1,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1856,119,2020-01-30T17:46:05.452000,```func Foo(b bool) int { if !b { return 0 } else { return 42 }}func Bar(b bool) int { if !b { return 0 } return 42}```Hey guys in such instances where `else` is redundant would you prefer `Foo` or `Bar`? I do bar bar I'm leaning toward Bar but would love to hear opinions bar it feels more pure Bar. Happy paths and early returns :) foo if its actually that simple a happy path is an interesting term i like that vasily confirmed enemy of the state I wonder how long until the NSA is on Vasily gopher gulag jk you do you I feel like go lint actually tells you to use Bar right? yes this is actually picked up by a linter? yes u should see what rusts clippy picks up or that haskell linter does fmt do anything? yes it formats ur go code not like that does fmt do anything about the previously mentioned formatting choice is it not enough that they've taken away my newlines from conditionals? now i have lost my choice to add a redundant else ?ï¿½ï¿½ newlines from conditionals? https://play.golang.org/p/A0mmc1VDcx7 minor annoyance uhh https://play.golang.org/p/O52Vl6ng8cj that's pretty hard to read tho because they are misaligned? i just didn't bother to align them most likely almost all go autoindenters align those and also you don't need to put parantheses around if conditions i still don't find it as clear as i said minor annoyance i can live with it alright everyone has their own taste @atthesunrise I hate unnecessary elses Why use if else if they're mutually exclusive conditions anyway i think you can do that like so: https://play.golang.org/p/xKMwaSArrd idk if you would find the not not annoying loads of people do it in loads of languages for some reason ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ i just wanted this channel's opinion @dynam1c interesting solution but a bit hacky another idea: put a tabstop after the if so that you don't have to put in spaces to align https://play.golang.org/p/qJrV_uwVGUj that's what i've been doing it's the best compromise imo it seems go fmt removes the tabstop tho hah interesting i hate all of these I could always break up really long conditionals before the if statement and keep it on one line https://groups.google.com/forum/#!topic/golangnuts/DHs7FmiPzKU here is a thread where they discuss what you want @Str?ï¿½m i didn't write those with my taste i prefer to just break it up the line before the funny thing is go format is rejecting most of their suggestions but as one guy said one suboptimal solution beats multiple optimal solutions its a standard that thread is 8 years old thats why everyone uses it to know what to expect but fmt still does the same thing ~2 years after the release of Go so they've had 8 years to implement it ?ï¿½ï¿½ï¿½ a lot has happened over the past decade hah if a language's fmt rules are crap I just don't use them I'm a monster you don't fmt your code? bad practice man ?ï¿½Ö±ï¿½?ï¿½ython be like 89 chars :duhhhh: lol I guess from now on I'll get into the habit of ```a b c d := true false true truecheck := (a && b) || c || dif (check) { ...}```something like that yeah I'm not going to follow PEP8 ?ï¿½Ö±ï¿½?ï¿½ased ?ï¿½Ö±ï¿½?ï¿½ython no put the check into the if pep8 is the worst and declare conditionals before consider a really long oneliner conditional what im saying is make the long conditionals variables and do the logic on the if ```isAB := a && bif (isAB || c || d) {}```you mean something like that? i mean:```goa := blargblargblarg_really_long_conditional_blahblahblahb := blargblargblarg_really_long_conditional_blahblahblahc := blargblargblarg_really_long_conditional_blahblahblahd := blargblargblarg_really_long_conditional_blahblahblahif (a && b) || c || d { do()}``` lol and also the standard format discourages parentheses around conditionals but c and d are not lazy evaluated that's just a habit as i've been watching a javascript video sorry :p @Deleted User my life is a lie c and d must be placed inside functions imo just use ```if blargblargblarg && blargblargblarg {}``` for the sake of lazy evaluation that would look ugly imo ```goa := blargblargblarg_really_long_conditional_blahblahblah b := func() bool { return blargblargblarg_really_long_conditional_blahblahblah }c := func() bool { return blargblargblarg_really_long_conditional_blahblahblah }d := func() bool { return blargblargblarg_really_long_conditional_blahblahblah }if this that``` you just made it slower 0/10 add a goroutine bad idea its not my idea add 2 goroutines add a goroutine for each value then use a channel to return those values nobad goroutine would cross the line that functions got close to then wrap it in an anonymous func a a goroutine cant you just newline after the and launching a go routine isn't free smh my head shaking my head my head basically free :aylmao: i kid shaking my smh my smh ?ï¿½Ö±ï¿½?ï¿½roroutines smh = smh my head smh runtime error just do ```goif blargblargblarg && blargblargblarg {}``` imo case closed ?ï¿½ï¿½ Rob Pike wants to know your location https://tenor.com/view/spanishmontypythonexpectsunexpectedsassgif5284798 They both aren't valid I think,,,0,0,0,0,1,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,43,31,2020-08-02T12:34:33.864000,"Are http requests also covered in the go tour? no afaik How I can delete a defer without a return/panic? ?xy http://xyproblem.info/ ? what are you actually trying to do that you need to delete a defer I have some function that need to recover a panic but in a seperate way why are there panics in the first place ?ï¿½ï¿½ï¿½ @Str?ï¿½m tbf panics are used to unroll things like in encoding/json errors yes ill unroll you pls do @minish i hope youre not using panics because you prefer exceptions can you post a small sample of what you are trying to do ``` buf := strings.Split(self.URL .com/"")[1] self.lang = strings.Split(buf /"")[0]``` this is an example if in the string there are not .com/ please dont name things `self` or `this` > if in the string there are not .com/""@minish then you should do a length check before indexing then you wont get a panic ok ok thanks i'm a python dev i'm trying to learn go youre probably used to exceptions right? in Go things are done a bit differently exceptions are rarely used only in exceptional circumstances ok thanks knew it was xy ?ï¿½ï¿½ï¿½",,,0,0,0,0,1,0,0,,0,*answered but not acknowledged,,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2535,30,2020-07-29T10:47:09.849000,"does anyone find themselves implementing serialization helpers? I defined this utility function:```gofunc handle_error(error error) { if error != nil { log.Fatalln(""Fatal error: %v\%v error) }}```which fails with `error is not a type`. I don\'t understand because I thought that `error` was actually a type that can be used everywhere... Any help? don't use `error` as a name it's a type somthing like `err error` should work Nope it doesn't. ok `func handle_error(message string err error)` > error is not a type https://play.golang.org/p/x6_Ggh6QM5k works Got it there was a function called error() in my code ?ï¿½ï¿½ï¿½ yo what ide you using? I'm sure golint could catch something like that @Roipoussiere please no underscore :robpike: Theres a single style guide for a reason I'm writing a lexer in go. Should I use source as a string a slice of bytes or slice of runes? Oh yes I forgot Also such error handling functions are an anti pattern yeah anyone know why I can't use proxies with dialtls? (http transport) :robpike: At the least i wouldnt call it handle_error maybe failOnError or something like that > Also such error handling functions are an anti patternI didn\'t share the whole code. This function is also used to print and log the error:```go if err != nil { fmt.Println(message) log.Fatalln(""Fatal error: %v\%v message err) }``` @vnki runes are a Unicode point if thats what your input is you could use runes Iterating over a string yields runes iirc Yes @Karitham PobRikes makes me Forget that caption I can't bother to crop can anyone help pls https://stackoverflow.com/questions/63150705/logrusmatefilehooknologswrittentofile",,,1,0,0,0,0,0,0,,0,*survey,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2432,33,2020-04-30T02:14:47.201000,Any web framework recommendations? I started with Revel but seems gingonic is pretty popular for reasons. gochi gang i thought the go way was to build your own using the standard apis yeah but gochi is too good it's also pretty small and very stdlib friendly start wit hthe standard library Is this a sane approach even for golang? Creating web apps without training wheels? upgrade when you find it's lacking a feature yeah absolutely wat ```cannot use middleware.BasicAuth((func(username password string c echo.Context) (bool error) literal)) (value of type echo.MiddlewareFunc) as echo.MiddlewareFunc value in argument to app.Use``` ```cannot use ... type echo.MiddlewareFunc ... as echo.MiddlewareFunc value in argument to app.Use``` well that's not what it is `middleware.BasicAuth((func(username password string c echo.Context) (bool error) literal))`errr hm i don't know `echo.MiddlewareFunc`'s signature offhand but your summary isn\'t what the error says ```cannot use middleware.BasicAuth((func(username password string c echo.Context) (bool error) literal))``` that\'s the type of your actual func actually wait this tooling derped the automatic import detection that explains the obtuse error it's using the non v4 middleware with the v4 echo in all fairness yes that's a real deep error fixing the derp makes this work oof see i don't really trust tooling to write code for me gofmt is one thing,,,1,0,0,0,0,0,0,,0,*half solved,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2437,27,2020-07-25T19:32:03.339000,"hey guys i decided i wanted to try my hand at rerouting `Stdin`/`Stdout` of a `exec.Command` right and it went alright with simple tests like calling a python script that asks for input and prints it out and i used a buffer just fine to write to the input and read the output to a separate file. now out of fun i tried doing this with ssh\'ing into my VPS. for some reason though no matter what i\'ve tried it isn\'t reading anything I send from the buffer?```gofunc main() { cmd := exec.Command(""ssh root@not.my.ip.here"") input := bytes.NewBuffer(nil) cmd.Stdin = input cmd.Stdout = os.Stdout _ = cmd.Start() input.Write([]byte(""wrongpass"")) _ = cmd.Wait()}``` maybe it's reading the password? also you're ignoring error AND stderr don't do that i know they're not erroring as i'm testing i'm not bothering with them right now. i know not to in a full app and it's not reading it How do you know theyre not erroring i've checked several times before with this exact code and various ways of writing to the buffer i'm just entirely stumped on why it's not receiving anything from the buffer you aren't checking stderr start and wait also return an error yes the errors are nil and now i added the connection to stderr this is all it returns `Pseudoterminal will not be allocated because stdin is not a terminal.` Might actually have to send a newline to submit the line i believe i tried that before let's see though i believe it's the pseudoterminal though. seems that ssh doesn't allow (any?) stdin when executed from a script Instead of shelling out you could use the ssh package as well https://godoc.org/golang.org/x/crypto/ssh yeah i know of it but i'm doing this for a reason i won't end up having a server half of the application the package does both client and server. But apart from the help we gave I don't think there is anything we can do for you you need a flag to make ssh not prompt for a password afaik it's required for prompting password dont you need a new line it doesn't read from the stdin itself it uses some weird syscall so the stuff you enter doesn't show up",,,0,1,1,0,0,0,0,,0,,,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,44,20,2019-11-02T23:21:48.213000,is there a way to speed up cgo build times? Like is it possible to tell go to cache a C build so it doesnt redo it every time i think cgo just calls out to gcc under the hood so ccache might help not super confident in that tho thanks is there a way to tell go to use ccache or do I need to create a sumbolic link / change compiler path variables back when i was messing with ccache i just installed the package and it handled all the wiring under the hood for me but obviously refer to documentation to be sure oh there is a go lib? no i mean `pacman S ccache` ah im windows so fuck me i guess :JUSTLOL: or whatever is appropriate for your os oh rip i mean if you use WSL ( and you should ) you'll probably be on debian or something i'd recommend debian over any of the other garbage options i mean given the choice between like...mint centos and debian debian wins every time,,,0,0,0,0,0,1,0,,1,,,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,14,84,2020-02-01T19:05:07.959000,"where does go mod get versions from? i.e. I look at a versioned dependency like `github.com/BurntSushi/toml v0.3.1` but if I go to that gh repo I don't see anything that would indicate that it's version 0.3.1 It's based on Git tags None i notice some versions look like this: `v0.0.020181204163529d75b2dcb6bc8` it looks like a timestamp of some sort and then a commit ï¿½ï¿½ï¿½yeah it's autogenerated @deezy okay i wrote that https://git.io/Jv3AR hmm i should figure out what kind of timestamp the timestamp is then https://golang.org/cmd/go/#hdrPseudo_versions just throw the commit hash there it'll autogen well i'm not using this information for the `go` command so knowing how to put it together myself will be needed The link from LethalClips has everything you need to know If I'm off base please point me in the right direction I do it in init Yeah in init() usually in main though not in a package I just use rand in the package asis No need to call anything to generate the seed NotFoo > imports Foo > Foo uses math/rand but has no main()= inside NotFoo.main() or Foo.Init()? doesn't it default to Now() anyways I could always demand Foo.NewFoo() takes a seed as a dependency or sth is NotFoo package main? NotFoo is main func yeah so inside NotFoo.main then seed isn't required why add it? everything I'm reading says it's required I've not written the code yet it's required if you're instantiating a Random struct or whatever it's called if you just call the top level rand functions i think it seeds itself you should call those i'm not sure what's meant by random struct Source struct probably not sure i capitalized it https://golang.org/pkg/math/rand/#Rand indicating it's a proper name if you're creating a Rand yes you need to seed if you're calling the top level functions they seed themselves and at this point i've become uncomfortable with how much i've said seed > Int returns a nonnegative pseudorandom int from the default Source Means I can't use this for true randomness or? well no it's a prng but it's adequate for noncrypto purposes deezy seed s e e d ```import math/rand""fmt.Println(rand.Intn(10))```this is always returning 1 and it\'s a top level func needs seed so when do I not need to seed? that's thrown me off you always have to seed but you'd preferably do that in main o rsth ```Bootstrap > import Foo""Bootstrap.Main() > rand.Seed(time.Now().UnixNano())Foo.Bar() > fmt.Println(rand.Intn(10))```Foo.Bar seems to be random. That\'s because it\'s using the seed from the parent pkg? The seed and state within the rand package is global I'm very quickly getting the feeling it's going to be best to pass randomisation as a DI Just seed and then use the rand funcs @Doad so I could import a helper/seed pkg which just seeds via init? Just seed in init in your main package say you've got an API that uses randomisation should you therefore just trust that the seed is random on the API end? If you make it apparent in the documentation the user should seed i'd say if you use randomization in a nontrivial way in a nonmain package have a way for the programmer to provide a rand.Source[64] Otherwise seed it yourself using a Source instead of rand's global functions also makes testing much easier since you can use whatever implementation you want `a = append(a[:i] a[j:]...)`is this a good method to cut an element from a slice or are there better ways? is `delete` faster/worse/stop overthinking? i don't think delete works on slices/arrays ah true i think it's exclusively map keys it's for maps anyways you landed on the solution that's pretty much it you can hide it inside a function and forget about it `func Pop(xs []Whatever index int) []Whatever` i'm used to having much more sugar yep welcome to go hmm. i'm guessing there's no such thing as unset in go? just revert to nil/zero values until GC? yerp just scope your stuff as narrowly as possible and let the gc handle it what's the most efficient way to populate an empty slice over a loop?",,,0,0,0,0,1,0,0,,0,,,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2581,34,2020-07-30T20:24:13.110000,"If you run `go test` in a module that has an older go directive (like `go 1.12` when you have 1.14 installed) it still only uses the older go version features to run the tests right? no because the older version isnt installed Hmm so https://golang.org/ref/mod says this:""The language version determines which language features are available when compiling packages in the module. Language features present in that version will be available for use. Language features removed in earlier versions or added in later versions will not be available. The language version does not affect build tags which are determined by the Go release being used. My main question is just when is it appropriate to update the go version in a `go.mod`? Change it to the current version run tests if everything works update it? Without breaking it for someone else obviously I mean for now yeah definitely I view it as a minimum go version atm https://github.com/golang/go/issues/30791 bloody hell so much hate for pickle ?ï¿½ï¿½ï¿½ fuck pickle btw have you been personally affected by it ?ï¿½ï¿½ï¿½ this seems personal fail2ban socket communicates over pickle shit format wtf rly? bruh f2b is in Python :kms: yea any alt? can systemd do this systemdband when https://bitbucket.org/sshguard/sshguard/src oo in C oh wtf only 3k LOC? @Str?ï¿½m Thanks for the link holy shit this is it wait f2b is python wtf My main concern was that I didn't want my packages to not take advantage of speed improvements or whatever in newer go versions but it doesn't look like having an older go version in `go.mod` does that holy fuck monkaS this is easy as fuck to set up damn how the heck do I figure out why a module was included when the module is broken https://i.1l.hn/k0rjY.png https://i.1l.hn/fP04p.png",,,0,0,0,0,1,0,0,,1,,,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1881,14,2020-09-29T18:10:06.841000,"I\'m having a bit of an issue with string formatting using `%60v` for strings that contains ANSI escape color codes. The program thinks the i.e. 5 characters (`\\033[31m`) are displayed which screws up the output. Any quick solutions for my problem?Example```gostr := \\033[35mHello World""fmt.Printf(""| %60v |\ str)fmt.Printf(""| %60v |\ Hello World"")``` Not really. You'll have to format your format string ?ï¿½ï¿½ï¿½ ?ï¿½ï¿½ spain without s yes working with escape codes beyond printing them is pain Yeah.... you should either abstract the escape code out of the string or implement an escape code parser What does `abstract the escape code` mean? write libraries that can grab the string from the escape code somehow like `esc.Printf(""| %60v |\ esc.Blue(""Hello World""))` ```gotype Segment struct { String string Escape string}func Blue() Segment { return Segment{""Hello World \\033jdqlfdkfsdfsdf""}}func Printf(fmt string v ...Segment)``` @_diamondburned_ I'll endure the shame of public humiliation and post on reddit ?ï¿½ï¿½ï¿½ https://www.reddit.com/r/golang/comments/j25di1/pythongo_integration_complex_structs_cgo_ctypes/. Thanks for the help! ```Error running \'go build Himari\': Cannot run program C:\\Users\\User\\AppData\\Local\\Temp\\___1go_build_Himari.exe (in directory D:\\GoLand\\Himari""): CreateProcess error=216 This version of %1 is not compatible with the version of Windows you\'re running. Check your computer\'s system information and then contact the software publisher``` :AstolfoThonk:",,,0,1,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2455,5,2020-04-30T21:59:09.801000,Hi @everyone how can i convert net.UDPAddress to String? https://golang.org/pkg/net/#UDPAddr.String The method has a very predictable name ?ï¿½ï¿½ï¿½ thanks man ?ï¿½ï¿½ï¿½,,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2346,20,2020-04-27T10:31:17.090000,"Why does this work:```govar f os.Filef _ = os.Open("""")io.MultiWriter(f os.Stdout)```But this doesn\'t?```govar writers []os.Filewriters _= getWriters()io.MultiWriter(writers...)```The second gives the error `Cannot use \'writers\ (type []os.File) as type []Writer` on the line `io.MultiWriter(writers...)` The first one seems to imply that os.File implements io.Writer but in the second it doesn't? Fixed this by returning a []io.Writer from getWriters() a slice of interfaces is different to a slice of pointers/structs the memory layout is very different and would involve a copy so instead of implicit copy youve to make an explicit copy I'm looking at Mat Ryers talk about how he writes HTTP services.There is this part ```gotype server struct { db sql.DB router mux.Router}```And then he writes:Handlers are methods on the server which gives them access to the dependencies via s.How on earth I can create a method for the server if they are in different package (handlers) import the handlers into the file where you create the method(s) Hmm so basically the server struct should be in the same file as Handlers? no same package? no well tbh idk how mat does it so i may be contradicting him ```gopackage handlersfunc (s Server) handleSomething() http.HandlerFunc { return func (rw http.ResponseWriter r http.Request) { // Do something }}``````gopackage mainimport ( database/sql"" github.com/gorilla/mux"")type Server struct { db sql.DB router mux.Router}``` Above doesn't work struct methods must be in same package Thanks",,,0,1,0,0,0,0,0,,1,*answered but not acknowledged,,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1865,12,2020-01-30T23:27:21.051000,What's the difference between adding functions after main() and before main()?both seem to work just fine ones are before main others are after ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ preferences.. ones? me no inglish properly Technically thereï¿½ï¿½ï¿½s no difference Depends on your style guide I suppose oh Once i read that its better to declare function in the order of their call. Like its easier to read code this way. And main() calls first as i know ?ï¿½ï¿½?\u200dï¿½ï¿½ï¿½ï¿½?ï¿½ I believe I've seen alphabetic order around too yeah true Updatedhttps://github.com/golang/go/issues/36887,,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,48,5,2019-11-03T01:37:55.475000,"How would I change the png compression level? In the other words v will be just header to already allocated string it won't copy string itself ah cheers @Lachee oh I forgot to say it's optimization option which hurts performance so after debugging is better to set it as `O2` which improves performance compared to default one So... to get around one of my issues in sshcode (where windows sends a `literal` path (`./~/whatever`\\\\`'~'/whatever` basically) instead of a relative path that can be resolved (`~/whatever`),Would it be possible to set a function to resolve this? something like ```goif runtime.GOOS == windows { //fix the pathing crap} else { //use default}```Would it work? my main issue is how do i set these globally in the program because how this program declares statements is semi confusing for me (i have issues following how it can send a declared string var to another function despite everything fucking breaking when i try and do that)",,,0,0,0,0,0,1,0,,0,*inconsistent,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,1467,39,2020-03-27T21:17:23.242000,how can i remove the space before Trim TrimSpace TrimLeft doesn't remove it i used Fields at the end idk i can't even copy & paste the space somewhere so dump bytes wait are the braces part of the string? no just do a ReplaceAll if you want no spaces oh dunno then [4086350506018140 true] i can't copy & paste the weird space id := strings.TrimLeft(user[0] ) None always the same weird space None omg im going crazy give a repro on play.golang.org i can't it's reading from a txt file and the space seems to happen sometimes upload the file put the text in a variable dump raw bytes out you can make a repro on play.golang.org as 0x?? then do []byte{} @[object Object] ig that owrks yeah idk what your code does but that looks like itll work you can unlock early/use atomic None slices can be nil how am i suppose to pass in the go struct? trying to generate a loader then generate json schema from the loader https://pkg.go.dev/github.com/xeipuuv/gojsonschema?tab=doc#NewGoLoader It looks like you're printing a slice in your original example no?,,,0,1,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,10,5,2019-11-01T15:54:24.997000,Somebody has got an idea I can realize using Go MongoDB and Vue? chat A chat where you get randomly assigned to a pokemon from the pokedex and you have to pretend to be it ?ï¿½ï¿½ï¿½ I am confused by the mates question,,,0,0,0,0,1,0,0,,0,,,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2613,18,2020-07-31T17:49:53.256000,how do I return first n elements of a slice ? `return slice[:n]` don't forget len check https://tour.golang.org/moretypes/7 but that probably isn't your actual question i\'m guessing it\'s i\'m trying to return parts of a slice and i\'m getting an error nah I just didn't know how to do it and figured just asking would be faster than spending a few minutes googling the go tour is very good strongly recommend it if you can't even spend a few minutes googling then i regret answering your question yea we don't mind answering questions but try not to be in the habit of asking stuff that's like first paragraph of the tutorial this is not babies first programming I am fully capable of googling stuff I just correctly figured this would be quicker you were right and the people who answer questions remember who do their research before asking stuff ?ï¿½ï¿½ï¿½ look I'm sorry but get off my back yeah it is,,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,97,6,2019-11-05T11:40:50.212000,"hi theres an project that im working on for school and i was just finishing the last segment when it wouldnt run anymore and gives me this error: local import ../types in nonlocal package it worked before didnt change any file names/location ```type Foobar struct { Name string `json:""name""` Description string `json:""""`}```The `json:""""` means that this field is omitted when marshaled to JSON? The behaviour is described here: https://golang.org/pkg/encoding/json/#Marshal",,,0,0,1,0,0,0,0,,0,*answered but not acknowledged,,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2320,23,2020-07-21T21:13:18.345000,"I'm trying to test some async funtionality but my `go test` is hanging.. I have some code being run in an async task:```resp := &Response{}b.RunAsyncTask(... func(ctx){ resp.Value err := d.getPlaces()})return resp b.Wait(ctx)````Wait` eventually calls the following:```func (f Future) Wait(ctx) error { select { case f.err = <f.ch: f.done = true case <ctx.Done(): f.err = ctx.Err() f.done = true } return f.err}```if i `fmt.Print` inside of `RunAsyncTask` nothing prints and therefore the call to `getPlaces` is never executed and `resp` remains `nil`... i'm trying to stop the test from hanging while also fixing the issue where `gomocks` properly sets the `getPlaces` response to `resp` Does the code work outside of tests yeah i tried adding a `WaitGroup` to the test and having the API call inside of `getPlaces` `.Do(func(...) { wg.Done() })` with no luck. not sure if it's because getPlaces gets called once earlier as well though string type is weird it's not exactly a rune slice but it can use slice syntax like s[:5] i think its basically a byte slice and it can be converted to a rune slice ```gos := abc""fmt.Printf(""%T s[:1]) // string``` ?ï¿½ï¿½ï¿½ is string an alias type of byte slice? no not quite it just behaves similarly string have black magic <https://blog.golang.org/strings> it's similar yet different from other types that I find myself having to reexperiment in playground or reread the article +rep i mean dependency injection in Go just means ```gofunc StartApp(storage StorageInterface) {}```instead of ```gofunc StartApp(db db.DB)``` ?ï¿½ï¿½ï¿½ I found this example is it good? https://medium.com/@elliotchance/anewsimplerwaytododependencyinjectioningo9e191bef50d5 Oh wait I think I ment dependency inversion A bit harder then injection ?ï¿½ï¿½ï¿½",,,0,1,0,0,0,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,42,40,2020-08-02T11:52:01.463000,vscode has discord integration?? what's vscodium'? like a fork of vscode? these leaks more information than all the softwares on github together on/to no need to be scared of vscode telemetry I am looking forward to Rust when it gets faster prototyping just personal preference but i prefer second way yes I forget what's the interface that I should use for pluggable http clients? or do I just need to make my own? sencond way you are typing less characters in your code will make in simplier and clean fmt will fix it to the 2nd way anyways And people viewing this code think: Damn this guy knows how to code in go its pretty hard to write things in the wrong style unless you go an write some snake case in which we will yell at you instead if you are usin liteide will does it wrong liteide doesn't use golint then don't use that :^) nor gofmt by default > then don't use that :^)@superloach i dont use and if you use notepad it doesnt either :bigthonk: you will have to use by hand. Newer gophers will write code in wrong way None yep vscode is better option it would be pretty hard to find someone writing go in a nonstandard editor > it would be pretty hard to find someone writing go in a nonstandard editor@Madxmike these guys who use vscode are more experient programmers someone that is just looking the language will be in others % nah Goland Works best for me but you need to pay it @Madxmike `nano` user here :^) micro is the best option for term or vim interesting to see the trend switching from older to newer editors in that image I prefer micro. Very simple use I want to like micro but it's a bit slower than nano (especially over ssh) and I'm already comfortable with nano ?ï¿½ï¿½?\u200dï¿½ï¿½ï¿½ï¿½?ï¿½ https://microeditor.github.io/,,,0,0,0,0,1,0,0,,0,,,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,1488,25,2020-03-28T21:08:34.106000,"is there a channel where i can ask for help ? here Go json parsing is pretty straightforward and even easier if you have a struct to unmarshal the json into how would it look without the struct? i thought you always needed the struct D: the point is that i only need 3 fields in the big json that i receive You can unmarshal to a map of interfaces And type assert on keys i think theres an option to ignore extras in parser i'm struggling to imagine that implementation @Deleted User it's a mess for sure @FranklinTheFrog you can make a struct with just those fields And unmarshal the json to that struct the fields that i need are in an array So you need three items in an array not three fields ```{ data"": [ { country"": France"", countryInfo"": { _id"": 250, lat"": 46, long"": 2, flag"": https://raw.githubusercontent.com/NovelCOVID/API/master/assets/flags/fr.png"", iso3"": FRA"", iso2"": FR"" }, cases"": 32964, todayCases"": 0, deaths"": 1995, todayDeaths"": 0, recovered"": 5700, active"": 25269, critical"": 3787, casesPerOneMillion"": 505, deathsPerOneMillion"": 31, countryCode"": FR"", confirmed"": 32964 } ], worldStats"": { country"": World"", countryCode"": World"", cases"": 622343, todayCases"": 26031, deaths"": 28802, todayDeaths"": 1461, recovered"": 137373, active"": 456168, critical"": 24016, casesPerOneMillion"": 79.85"", confirmed"": 622343 }}``` Ah an array of structs ```gotype AutoGenerated struct { Data []struct { Country string `json:""country""` CountryInfo struct { ID int `json:""_id""` Lat int `json:""lat""` Long int `json:""long""` Flag string `json:""flag""` Iso3 string `json:""iso3""` Iso2 string `json:""iso2""` } `json:""countryInfo""` Cases int `json:""cases""` TodayCases int `json:""todayCases""` Deaths int `json:""deaths""` TodayDeaths int `json:""todayDeaths""` Recovered int `json:""recovered""` Active int `json:""active""` Critical int `json:""critical""` CasesPerOneMillion int `json:""casesPerOneMillion""` DeathsPerOneMillion int `json:""deathsPerOneMillion""` CountryCode string `json:""countryCode""` Confirmed int `json:""confirmed""` } `json:""data""` WorldStats struct { Country string `json:""country""` CountryCode string `json:""countryCode""` Cases int `json:""cases""` TodayCases int `json:""todayCases""` Deaths int `json:""deaths""` TodayDeaths int `json:""todayDeaths""` Recovered int `json:""recovered""` Active int `json:""active""` Critical int `json:""critical""` CasesPerOneMillion string `json:""casesPerOneMillion""` Confirmed int `json:""confirmed""` } `json:""worldStats""`}``` omg thats so cool i've tried to make the Data struct but not as a array of struct ok i think i get it guys thanks a lot @ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ how'd you autogenerate? There are many online tools to do so https://mholt.github.io/jsontogo/ And offline tools i'm adding it to favourite",,,0,1,0,0,0,0,0,,1,*code here but earsed?,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,56,46,2020-02-03T10:46:56.192000,"Hey guys i'm trying to encrypt and decrypt a struct into a file. i'm using secretbox. https://pastebin.com/Mx4KE1UQIt fails to decrypt ( line 53 is false )I think the overhead is not appended correctly to the written file.. sure i am reading the encrypted text from the file. I'm not sure if i understand you correctly @Nettbr??tchen can you post into a goplayground sure give me a sec thx can i write to files in the playground? does not seem like it https://play.golang.org/p/_ofadQMg9vT ``` #!/bin/bash 2  3 for i in $(cat $1); 4 do 5 echo ; 6 echo ASN $i""; 7 echo ; 8 amass intel active asn $i; 9 echo ; 10 done``` can anyone help me how to write in go with concurrency my go code``` 1 package main 2  3 import ( 4 bufio"" 5 os"" 6 os/exec"" 7 fmt"" 8 ) 9  10 func main(){ 11 sc := bufio.NewScanner(os.Stdin) 12  13 for sc.Scan() { 14 asn := sc.Text() 15 cmd := exec.Command(""amass"",""intel"",""active"",""asn"",(asn)) 16 _ err := cmd.Run() 17 if err != nil { 18 continue 19 } 20 fmt.Println(asn) 21 } 22  23 }~ ~ ``` error```go run main.go # commandlinearguments./main.go:16:16: assignment mismatch: 2 variables but cmd.Run returns 1 values``` cmd.Run() only returns error remove the _ Run() only returns an erroryou are yes lul :) @emnaruto07 https://golang.org/pkg/os/exec/#Cmd.Run @Madxmike not sure how to get it working in the playground thanks,but how can i add concurrency? take a look at goroutines thats not an easy answer i guess im not a genius tho :P concurrency is via go routines i think you should start a go routine which executes cmd.Run(). but you have to wait for it to finish before you exit main() they make green threads. so it's not parallelism but it can be depending on your cores my cpu is going crazy in this program what are you trying to run concurrently? @emnaruto07 https://www.youtube.com/watch?v=YS4e4q9oBaU&t=20037s here is how to do it so if you see my bash it will loop it that command i just want to add the concurrency with that file. you want a goroutine on each iteration? yes goroutine needs to be attached to a func call so anon func wrapper is your best bet. learn a bit more first so you know what to expect though imo ok thanks bro if you dont want to watch the video i was taking notes as i did. do you want them? @emnaruto07 hackers ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ sure > hackers ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½@stdio ?ï¿½ï¿½ï¿½ sent you dm @Nettbr??tchen your name is making me crave a Walnussbroetchen |: Aldi/Lidl don't have them here so I have to suffer anyway back on topic ?ï¿½ï¿½ï¿½ any news on my encryption problem? >< @Madxmike does it work for you (without the playground)? anyone ideas how to easily encrypt/decrypt a struct into/from a file using go?",,,0,1,0,1,1,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,61,45,2020-02-03T18:35:40.567000,is it possible to implement function for generated types from protobuf ? Sure you know what the names of the types will be when they're generated so write methods for those types i need to find a specific word in user message it needs to ignore case do you think making everything to lower will significantly slow down performance benchmark it i think i just need to get write benchmarks anything else is pure speculation tattooed on my forehead i'd argue instead that singletons are a bad idea and that globals are a bad idea and if you're using both in the same sentence you might want to take a beat and think why are they bad ideas? It will be a variable at a package scope and as it is a variable I could easily use it to mock functions when testing don't you think it? cause several packages can import your pkg and change that var and you might lose control what's changing what interfaces are great! use interfaces Ok I understand so what should be the best way to do it? just don't use global variables or singletons I've seen exceptions like declaring a Now var that returns time.Time for testing and mocking @ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ it's still gonna be fast tbh but there's probably other better ways to do it so just do it get it working first Does Go have the same thing as C where `s[i]` is equivalent to `(s + i)` The answer is don\'t use a global make whatever this thing a Member of some struct or a parameter to the relevant functions ...what @post pointer/address arithmetic anyways pointer arithmetic? oh no nop hahaha this is go it has a gc Sure but it has pointers not really no not c pointers I mean it has unsafe but that's unsafe ?ï¿½ï¿½ï¿½ shhh We have pointers but not pointer arithmetic Yea that's what I suspected thanks for the clarification @stdio @deezy thanks,,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2579,31,2020-07-30T19:34:10.784000,"Why is the ``go build`` telling me that it can\'t find ``""github.com/g3n/engine/core""`` when I can literally see it in the browser? probably cause you aren't using modules ( correctly ) ^ was typing it and couldn't get to that point I copied the data from g3n github page https://github.com/g3n/engine Go won\'t magically import things you need to a) use go modules to automatically download dependencies or 2) go get github.com/g3n/engine/core yeah that's fine you still needto use modules what browser chrome? Chromium you seeing it in the browser has absolutely nothing to do with what the compiler sees ?go modules Introduction to Go Modules <https://roberto.selbach.ca/introtogomodules/>  SkippyUsing go modules <https://blog.golang.org/usinggomodules>  Sgt_Tailor welcome to dependency management Well I've already been doing dep management in the MT engine but this is quite different from Lua quite go is a real language ?ï¿½ï¿½ï¿½ ive never seen a language that automatically downloads dependencies for you that you havent specified in some sort of deps list deezy gatekeeping languages be like kek i mean go does but you have to do the setup yea if you don\'t count fs as your dep list then goimports + go get Ahh ``go get d ./...`` worked great thank you! whaddya mean just works just works like binary encoding or json or any other data format ok what's the best way to save an array/slice",,,0,0,1,0,0,0,0,,1,,,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,96,3,2019-11-05T11:13:45.786000,Hello! Is it a good solution to create static pages using GO and mongoDB? I'm generally thinking of templates. Is it a lot of trouble or better to use other technology. thinking about templates @Szahid I would say templates but I think it depends on the needs and what you really want.,,,0,0,0,1,0,0,0,,0,,,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2485,20,2020-07-27T18:33:20.100000,Hey guys! i'm having problems with GORM idk if anyone has use that package before. I'm looking to perform the following query: SELECT empleado.nombre as empleado turnos.fecha turnos.hora turnos.cliente_id as cliente FROM turnos INNER JOIN empleado ON empleado.id = turnos.empleado_id INNER JOIN cliente ON cliente.id = turnos.cliente_id; Running `go get u github.com/gobindata/gobindata/...` doesn't download the latest release instead it downloads the single latest one and returns this:`go: found github.com/gobindata/gobindata/... in github.com/gobindata/gobindata v3.1.2+incompatible` Does anyone know why this happens? wrong import path should be using github.com/gobindata/gobindata/v3/... That downloads a bunch of other stuff too. Is that normal? The one before that didn't download additional dependencies. Or is that just the latest v3 using a lot of new stuff? `go mod why` or maybe `go mod explain` there's a tool that explains where a dependency comes from go mod why just returns my package's name lol since I don't actually require gobindata in the module itself well yeah you have to tell it one of your transitive dependencies Go mod graph https://github.com/ewohltman/graphdot If you want a nice picture ayy Graphdot GOD papa bless I'm running into this sigterm with an invalid nil pointer``` FAIL: TestCertCA (0.00s)panic: runtime error: invalid memory address or nil pointer dereference [recovered] panic: runtime error: invalid memory address or nil pointer dereference[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x115d83a]goroutine 6 [running]:testing.tRunner.func1.1(0x11836e0 0x12ee360) /usr/local/Cellar/go/1.14/libexec/src/testing/testing.go:941 +0x3d0testing.tRunner.func1(0xc000136360) /usr/local/Cellar/go/1.14/libexec/src/testing/testing.go:944 +0x3f9panic(0x11836e0 0x12ee360) /usr/local/Cellar/go/1.14/libexec/src/runtime/panic.go:967 +0x15dlambda/cert.Cert.GenCert(0x1062d01 0x0 0x1065130 0xc000050708 0x3240303 0x12f7bc0 0xc000050718 0x1051382 0x1065130 0xc000050708 ...) /Users/akhter.ali/Documents/code/drtinfrastructurevpn/vuejsfrontendportal/amplify/backend/function/VPNCertAuth/src/cert/cert.go:71 +0x9ealambda/cert.TestCertCA(0xc000136360) /Users/akhter.ali/Documents/code/drtinfrastructurevpn/vuejsfrontendportal/amplify/backend/function/VPNCertAuth/src/cert/cert_test.go:15 +0x41testing.tRunner(0xc000136360 0x11beb68) /usr/local/Cellar/go/1.14/libexec/src/testing/testing.go:992 +0xdccreated by testing.(T).Run /usr/local/Cellar/go/1.14/libexec/src/testing/testing.go:1043 +0x357exit status 2FAIL lambda/cert 0.275s```,,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,81,11,2019-11-04T11:55:05.323000,how would I go about turning this C call into go and get a float32 slice? `float GetWaveData(Wave wave); ` the array will be (wave.sampleCountwave.channels) big @Lachee u already know how it goes in raylib and already asked about turning c array into slice so what thing u messing with? good point just confusing myself @Lachee the one thing what I intend to say is that there's 2 options about handling the c array:u can turn it into slice with `([1 << 28]float32)(unsafe.Pointer(ret_val))[:size:size]`But it won't be garbage collected so1) u can just handle it as new type with additional Delete method (u can also set finalizer with runtime.SetFinalizer if this slice will be part of some complex struct) which free it:`C.free((unsafe.Pointer)(unsafe.Pointer(&float_slice)))`2) or just make copy with instant deletion of original:```govar wave_data []float32copy(wave_data temporary_wave_data_slice)C.free(ret_val)return wave_data```Ofc first one is preferable for performance second one for convenience I got confused because the method I saw the previous author use was ```golang// GetWaveData  Get samples data from wave as a floats arrayfunc GetWaveData(wave Wave) []float32 { var data []float32 cwave := wave.cptr() ret := C.GetWaveData(cwave) sliceHeader := (reflect.SliceHeader)((unsafe.Pointer(&data))) sliceHeader.Cap = int(wave.SampleCount) sliceHeader.Len = int(wave.SampleCount) sliceHeader.Data = uintptr(unsafe.Pointer(ret)) return data}```But yeah I will probably just copy the data over like you said. Oh he did it mad way it leaks i mean the docs alone say not to use SliceHeader so scarry stuff It only appears in unsafe.Pointer docs part which tells don't play with non patterned way like this cause it might be deprecated in future I mean `uintptr(unsafe.Pointer())` part is haram and `go vet` shall yell at u,,,0,0,0,0,0,1,0,,1,,,0,1,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2366,79,2020-04-27T23:26:27.989000,"Hi is there any good way to do a very clean interface with Go? But it's inside a map.. How can I get this map? first // type geometry interface { fails run @ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ i see None ```map[type:[{Name:type Value: Attrs:map[] Children:map[]}] variant:[{Name:variant Value: Attrs:map[] Children:map[grams:[{Name:grams Value:1000 Attrs:map[] Children:map[]}] id:[{Name:id Value:https://noirfonce.eu/products/4714751393894 Attrs:map[] Children:map[]}] price:[{Name:price Value:100.00 Attrs:map[currency:EUR] Children:map[]}] sku:[{Name:sku Value: Attrs:map[] Children:map[]}] title:[{Name:title Value:Default Title Attrs:map[] Children:map[]}]]}] vendor:[{Name:vendor Value: Attrs:map[] Children:map[]}]]``` what is `item` an item in the `feed.Item` ```gofp := gofeed.NewParser() feed err := fp.ParseURL(""https://noirfonce.eu/collections/all/products.atom"") if err != nil { return nil err } items := feed.Items var products []Product for _ item := range items { products = append(products Product{ Name: item.Title, Link: item.Link, }) log.Printf(""%+v item.Extensions[""s""]) }``` ignore the append was just for testing `type Extensions map[string]map[string][]Extension` thats rough ```gofor _ item := range items { products = append(products Product{ Name: item.Title, Link: item.Link, }) extensions := item.Extensions[""s""] for _ extension := range extensions { log.Print(extension) } }``` Doing that returns a lot of stuff yeah probably None I just want the price :cry: do that `%+v` on that print None I can create a struct for that? its just an Extension its a map @ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ` g2 = emb{geom{2,3},in{geom{2,3}}}` None Like this? ```gofor k extension := range extensions { log.Printf(""%s %+v k extension) }``` I can just try another lib too idk cuz u changed the struct def so extensions[""variant""] will get you the extension you want ```gofor _ item := range items { products = append(products Product{ Name: item.Title, Link: item.Link, }) extensions := item.Extensions[""s""] for k extension := range extensions[""variant""] { log.Printf(""%s %+v k extension)  } }``` what does that give you ```extensions := item.Extensions[""s""] for _ extension := range extensions[""variant""] { for v ext := range extension.Children[""price""] { log.Printf(""%v %+v v ext.Value) } }``` this actually does what I want it output the price correctly what a mess ?ï¿½ï¿½ ?ï¿½ï¿½ï¿½ thanks you! A last question! None ```go2020/04/28 02:08:05 {variant map[] map[grams:[{grams 1000 map[] map[]}] id:[{id https://noirfonce.eu/products/4786412322918 map[] map[]}] price:[{price 50.00 map[currency:EUR] map[]}] sku:[{sku AT3745046 map[] map[]}] title:[{title 16 map[] map[]}]]}2020/04/28 02:08:05 0 50.002020/04/28 02:08:05 {variant map[] map[grams:[{grams 1000 map[] map[]}] id:[{id https://noirfonce.eu/products/4786412322918 map[] map[]}] price:[{price 50.00 map[currency:EUR] map[]}] sku:[{sku AT3745046 map[] map[]}] title:[{title 17 map[] map[]}]]}2020/04/28 02:08:05 0 50.002020/04/28 02:08:05 {variant map[] map[grams:[{grams 1000 map[] map[]}] id:[{id https://noirfonce.eu/products/4786412322918 map[] map[]}] price:[{price 50.00 map[currency:EUR] map[]}] sku:[{sku AT3745046 map[] map[]}] title:[{title 18.5 map[] map[]}]]}2020/04/28 02:08:05 0 50.00``` You see it will create a new Item but it's actually the same item just not the same variant @ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ or like this` type HR struct { S1 struct { x int }}result := HR{ S1: x{1}, }` nested struct like the sku ID is the same yeah they are just different sizes it looks like how can I regroup them into one item ```gotype Product struct { Name string Link string Sizes []string Price string}``` That would be my struct delete the ~~unworthy~~ the ones you dont want But I want all the sizes then just make one product for each sku you see and if it has a sku that already has been seen you add its size to the product you already have uh.. how can I do this please? I already know how to get sku & stuff a couple of loops and a map probably `map[string]Product` loop over your items if the sku key exists in that map get the product and update it honestly im not sure lol if not then create a new product and put it in the map yeah you can't create an anon struct value for anon struct type So using r.RemoteAddr returned this [::1]:56060  Is this normal? I was expecting a normal ip address like 127.0.0.1 or something similar Sure `[::1]` is the IPv6 loopback address Oh true i forgot about ipv6 vs ipv4 ```gofor _ item := range items { var sku string var price string var alreadyStored bool extensions := item.Extensions[""s""] for _ extension := range extensions[""variant""] { for _ priceExt := range extension.Children[""price""] { price = priceExt.Value } for _ skuExt := range extension.Children[""sku""] { sku = skuExt.Value for _ product := range products { if product.Sku == sku { alreadyStored = true for _ size := range extension.Children[""title""] { if size.Value !=  { product.Sizes = append(product.Sizes Size{ Value: size.Value, Price: price, }) } } } } } } if !alreadyStored { products = append(products Product{ Name: item.Title, Sku: sku, Link: item.Link, Sizes: []Size{}, Price: price, }) } }```Doesn\'t seems to push if the item doesn\'t have a sku? Yes this gave me headache loop is too headache ```go for _ extension := range extensions[""variant""] { for _ priceExt := range extension.Children[""price""] { price = priceExt.Value } }``` this seems completely pointless no youre overwriting price for everything in extension.Children[""price""] o but there is only one price in each item then why for loop because it's needed I highly doubt it",,,0,0,0,1,0,1,0,,1,,,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2230,49,2020-04-24T02:20:04.487000,"im kinda confused how to implement this ```gofunc connect(ctx context.Context cancel context.CancelFunc) { conn err := net.Dial(""tcp RHOST+"":""+RPORT)}func listen(ctx context.Context cancel context.CancelFunc) {}func main() { ctx := context.Background() ctx cancel := context.WithCancel(ctx) go connect(ctx cancel) go listen(ctx cancel)}``` i want connect to keep trying to connect if it fails ```gofunc connect(ctx context.Context cancel context.CancelFunc) { for true { select { case <ctx.Done(): return default: conn err := net.Dial(""tcp RHOST+"":""+RPORT) if err == nil { cancel() handleConnection(conn) } }}``` Is that the correct implementation you can just do `for {` btw ah cheers ```gofunc listen(ctx context.Context cancel context.CancelFunc) { ln err := net.Listen(""tcp 0.0.0.0:""+LPORT) if err != nil { return } for { select { case <ctx.Done(): return default: conn err := ln.Accept() if err != nil { return } cancel() go handleConnection(conn) } }}``` thats my listen func 2 things 1. don't take in a cancel the caller should defer cancel themselves there's no 2 wdum by 1 i tested it and they both cancel when either of the events occur I didn't say it wouldn't work but it's not idiomatic it doesnt work kek ```goctx cancel := context.WithCancel(context.Background())defer cancel()listen(ctx)``` also return error don't ignore ```gofunc main() { var wg sync.WaitGroup ctx := context.Background() ctx cancel := context.WithCancel(ctx) wg.Add(1) go connect(ctx cancel &wg) wg.Add(1) go listen(ctx cancel &wg) wg.Wait()}``` thats my main is it better to put database caching in its own package or should I put it into my `db` package also Listen can take a context so there's no need to do the select @Blusk id put it in db ah cool this is confusing me a lot lmao is my main function correctly implemented? so uh if you have `_linux.go` `_windows.go` files and want to write tests for each what do I do? _test_linux I thikn actually yea maybe you need to pass cancel in ```gofunc listen(ctx context.Context cancel context.CancelFunc) error { l err := (&ListenConfig{}).Listen(ctx ...) // err check c err := l.Accept() // err check go handleConnection(c) cancel() // stop the other}``` that should be the listen impl ```gofunc connect(ctx context.Context cancel context.CancelFunc) error { c err := net.DialContext(ctx ...) // err check go handleConnection(c) cancel() // stop the other}``` ok thanks ```gofunc main() { wg := sync.WaitGroup{} wg.Add(2) ctx cancel := context.WithCancel(context.Background()) defer cancel() go func() { err := listen() // handle err wg.Done() }() go func() { err := connect() // handle err wg.Done() }() // you will have to take care of handleConnection being spawned in goroutines wg.Wait()}``` for the comment above wg.Wait() you can solve this by calling cancel() before handleConnection then run it in the current thread ```gofunc connect(ctx context.Context cancel context.CancelFunc) error { c err := net.DialContext(ctx ...) // err check cancel() // stop the other handleConnection(c)}``` like that thats how i had it 3 seconds ago and i went to say i fixed it but you came up with a better way thanks for the help ?ï¿½ï¿½ï¿½ yw net.DialContext is undefined oh you need a dialer None",,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1786,7,2020-09-26T00:22:12.394000,how should i make a worker pool that only runs when an array is under a certain size? a goroutine that checks every like every second if the array size is smaller than the required? Wrap the array and notify on change? why n err := c.fd.Write(b) how would I do that? and not c.Write(b) to error handle probably,,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2302,10,2020-04-26T08:01:08.048000,"hi if i have a folder e.g example and want to zip it like example.zip"". How would I do that Anyone have a favorite flavor of Linux to run k8s on? http://blog.ralch.com/tutorial/golangworkingwithzip/ thanks so I was just playing around with reflect and started wondering can I use it to replace a method of a struct? https://goremotefest.com/ you probably shouldn't https://www.youtube.com/watch?v=OZSJ2fwSSUM&feature=youtu.be&has_verified=1 gofest is live just wanted to share !! thx",,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2374,25,2020-04-28T10:13:31.576000,hi it's possible to convert convert function type in another function type ? my error is : ```Cannot use luaWrapper.window.InitWindow (type func()) as type LGFunction ``` @Teddy btw have you ever used that one https://godoc.org/go.mongodb.org/mongodriver/bson/bsoncodec#ValueCodec ? @Deleted User only if the signature matches LGFunction probably needs an argument. LGFunction is a function return int okay ^^ Could create a closure to make the signature match in terminal this cmd works fine You dont make it a whole string Its separated so every space its other command? Look at the documentation for exec.Command Im 99% sure it explains and has example shouldnt it still work No ??? oh name string arg ...string Yes really I cant put []string into ...string? ?ï¿½ï¿½ You can `fn(slice...)` Or was the dots first,,,0,0,1,0,1,0,0,,0,,,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2378,9,2020-04-28T13:44:21.106000,howdy you guys what would you say is the best go game development library right now i use raylib but i wanted to see what else was also out there right now i only know of ebiten @Doad Is an endorser of ebiten The dev is also in here iirc <https://github.com/avelino/awesomego#gamedevelopment> contains a nice list of options okay thank you! I looked at gorm docs it seems like more less code than sql query,,,1,0,0,0,0,0,0,,1,ask opinion,,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,15,4,2020-02-01T19:30:36.754000,Hey guys where's the best place typically to add a random Seed for a pkg. Is it better somewhere like foo.NewFoo() or foo.Init() or to create a new variable with a random Seed every time you're going to be using randomisation? so it needs seeding or am i doing something wrong? y tho :thonk:,,,0,0,0,1,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2399,17,2020-07-24T11:21:28.029000,"Any ideas why my function call in main.go is different then actual function None in main it says it is ``[][]int`` while in reality it is just simple int Is that the correct package? Is there a similar function in a different package? If not your linter is just broken there is similar function but it is in different file and under pkg not packages None these are similar ```goimport ( fmt"" github.com/MantasSilanskas/simpleGames/mathGame/packages"")``` my imports do you have a repo of that? And you're sure the function in that package returns an int? And you didn't mix up the two files? @stdio https://github.com/MantasSilanskas/simpleGames Yes i am sure @Doad Probably just your linter acting up try restarting your editor That is goland I'm stuck in the jetbrains universe. Too used to the way it works to consider anything else atm",,,0,0,0,0,1,0,0,,1,*answered but not acknowledged,,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2568,24,2020-07-30T14:50:34.527000,how can I write an interface that has a method  `Subscribe(msg string inChan chan interface{})`that can be satisfied by a type that has method` Subscribe(msg string inChan chan SomeStruct)` is this even possible this way ? you can't i thought so has to match exactly is there a way to make a layer in between that can make this generic ? another interface i cant wrap my mind around how to do it quite yet ```gotype MessageInterface interface { Payload() interface{} // or a real type whatever}type MessageBroker interface { Subscribe(msg string inChan chan MessageInterface)}``` then you can just have whatever concrete types you want implement Payload() thank you lemme play around with that interfaces are so good go is good GOod Interfaces so good Sometimes wish for zero cost abstraction wym Aw I can't add emojis None gozoom ```type Subscription interface { Type() int}type Service interface { Publish(subj string data []byte) error Subscribe(subj string cb func(m interface{})) ChanSubscribe(subj string c chan MessageInterface) error}type Client interface { Publish(subj string data []byte) error Subscribe(subj string cb func(m interface{})) ChanSubscribe(subj string c chan MessageInterface) (Subscription error)}type MessageInterface interface { Respond() interface{} // or a real type whatever}type service struct { c Client}func (s service) ChanSubscribe(subj string c chan MessageInterface) error { _ err := s.c.ChanSubscribe(subj c) return err}// NewMessageService returns a messenger service instancefunc NewMessageService(c Client) Service { return &service{c}}``` so when I call NewMessageService with a client that implements ChanSubscribe with a chan of a concrete struct type it errors saying the types dont match still,,,0,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1858,122,2020-01-30T19:50:16.208000,"```c := make(chan int)var c2 <chan int = cc3 := (<chan int)(c)```would c2 or c3 be preferred? They _are_ but what are you trying to do? regardless of that I'd probably choose `c3` but like y tho That is some unholy code ye receive only channel I guess I'd just take a receive only channel as a parameter in a function and just pass the channel typecasted from a normal chan Yeah what doad said i'm still playing around and learning concurrency/patterns so on top of answering which is better answering why that would suck is also useful I can't really picture a use case where you would explicity need a standalone variable to a readonly channel a goroutine could take a readonly channel as a parameter and you just pass your channel to it like normal https://play.golang.org/p/pjFb1egU61V This is a common use case for readonly channels The top level channel is read/write but the channel the goroutine receives is readonly i say c2 is better as it's just a signal for it to listen to are `<chan` `chan` `chan<` considered the same type for var assignments? that's throwing me off a bit ```type specialFloat float64func main() { f := 42.0 var q specialFloat = 42.0 //var f2 float64 = q // float64 != specialFloat var f2 float64 = float64(q) f3 := float64(f)}```if you compare it to something like this for example sorta you can't cast a recive only channel to a send only and vice versa so i am confused on how i am gonna do this the cast is implicit i am trying to make my program log the pids to a file in this format @atthesunrise and in your latest example just use `f3` `f2` is very redundant `taskname.task > content(""[name]{pid}"")` so that way people can look into the files and see the PID associated with the task current code is at https://cdn.merith.tk/workspace/ginit so what's the issue? I dont know how im gonna do the logging Write to a file? You know how to do that? I am trying to convert this int 12500 to 125 @Doad so it's sort of sounding like they're a subtype or a special outlier? float32 is not a subtype of float64 so is it just an outlier? (i can't think of a better example) what best way to remove trailing zeros They are a special type @atthesunrise @Subi divide by 100 ?ï¿½ï¿½ so simple lol i so dumb @atthesunrise float32 and float64 are two different types they are different sizes in binary as i said i can't think of a better example different types of channels are just different sides of the same coin under the hood a channel is a struct with variables indicating state etc so it's more like saying chan with implementation of X and i can't think of another type that works that way yeah pretty much it's a special type And whether it's receive only or send only isn't _really_ part of the type it just tells the compiler and runtime how to use it it's a weird type https://github.com/golang/go/blob/master/src/runtime/chan.go#L32 that's the struct used under the hood It's a generic type :robpike: _shhh_ Don't let Mr. Pike hear you the based `void ptr` ?ï¿½ï¿½ï¿½ isnt `+` technically a generic because its one thing that works on multiple types it's not a type it's an operation generics refers to generic types No I mean `int` `float` `struct bruh` They are all `T` ah yeah C is great void is based though i thought generic was a function i didn't read the whole convo Idk about + It doesn't work on all types So its definitely overloaded it's an operation not a type anyways just a symbol for the compiler to play with Overloaded in a metaphysical way sure Its just like Java doesn't have operator overloading except + works on strings for some reason https://en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Member_and_pointer_operators `` is listed as an operator as well @themeeman yeah that's super weird for Java since Java strings are objects unary `` is a generic operator that works on all `T` Generics tm @Doad + works but == and != don't :facepalm: ?ï¿½Ö±ï¿½?ï¿½ased ja?ï¿½Ö±ï¿½?ï¿½a So bad Kotlin gang I'm glad Go doesn't have operator overloading honestly I mean user defined recipe for disaster Operator overloads Its a neat thing but it doesn't work in Go Too high level it\'s neat as in having a pet scorpion would be neat it isn't a neat thing imo it makes things confusing I think it's a lot better to define custom methods for comparison imo it opens an opportunity for developers to make their code confusing equality should test actual equality not some arbitrary definition Exactly Operator overloading is a godsend in C# just because of == and != i once saw a class in an oop language codebase that was `FlooredFloat` and equality would check their floors I mean that could have its uses but operator overloads still suck `checkFloor()` seriously no good reason for it `floor(a) == floor(b)` isn't that hard All of the stuff you are talking about is just bad API design it would be the same if they had defined a `.equals` that did that I will say that C++ takes it way too far A ton of operators are overloadable that really shouldn't And the butchered `<<` and `>>` C++ is too far in every degree https://tenor.com/view/lookhowtheymassacredmyboymememassacrekillwreckedgif14452160 before I move on to adding channels is this being done correctly so far? Especially focusing on the goroutines made from the loop and the wait grouphttps://play.golang.org/p/p6SUhLwtC_n yeah you don't want to copy it",,,1,0,0,0,1,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,2,5,2020-08-01T01:09:01.202000,Hwllo Hwllo I am finding imposible chaining proxies with net/http. is it? Have you tried using the net proxy stuff thanks,,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2561,22,2020-07-30T05:01:42.730000,"how can i add end=  in golang like python I have cgo export function```go//export ext_datafunc ext_data(context unsafe.Pointer length int32) int32 {// logic goes here}```I want to call this function in some other function how can i give value to `unsafe.Pointer` > how can i add end=  in golang like python@emnaruto07 use fmt.Print instead of fmt.Println ```package mainimport fmt""func main() { var i j int for i = 5; i > 0; i = 1 { for j = i; j > 0; j = 1 { fmt.Printf(""%v\ j) } }}``` im doing like this but its not working `\` will print a newline Remove it i want output like this:```5 4 3 2 14 3 2 13 2 12 11``` I guess you could change the `\` in your `fmt.Printf` call with a space and add `fmt.Println()` after the inner loop So the first print call will be `fmt.Printf(""%v  j)` nope output is like 543214321321211 Can you show me how the code is looking now? > ```package main> > import fmt""> > func main() {> var i j int> > for i = 5; i > 0; i = 1 {> for j = i; j > 0; j = 1 {> fmt.Printf(""%v  j)> }> }> }``` Add `fmt.Println()` after the second loop Inside the `i` loop ```5 4 3 2 1 4 3 2 1 3 2 1 2 1 1 % ``` i don't know why is % is printing. It indicates that the output does not end on a new line so where can i add \? @ASB convert it @_diamondburned_ how to convert ? I tried passing argument as `&message[0]` where message is []byte Don't know what type of data i need to pass here `unsafe.Pointer(&message[0])`",,,0,0,0,0,0,1,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2248,52,2020-04-24T16:45:41.521000,Hi All! Which one is better? Gorm or Gorp for mysql? i've never heard of gorp haha how do you manage migration with gorm? i want to update column type and is there any automatic way for it? i haven't yet I am now using AutoMigrate function and it doesn't update existing column @smoke make packet types interfaces and implement different versions; if a version doesn't have a certain feature return an error I was working on a server a while back and I only got as far as the metadata for the server list ?ï¿½ï¿½ï¿½ but if I ever pick it back up that's the design I'm gonna use yeah theres a lot that goes in to it as a server though you only need to support one version clients get the short end of the stick eh I feel like supporting all the postnetty versions because I was really just writing a universal lib that could be used by a server or client app I was just working on the server side to start with @_diamondburned_ why iris had controversy ? my issue with packets as interfaces what happens when the packet structure changes? @kip creator did some stuff thats gonna change the interfaces https://www.reddit.com/r/golang/comments/b481q7/a_warning_about_githubcomkatarasiris/ @smoke have the interface support all possible properties and then have stubs/warnings on versions that don't support them if a new version adds a new feature you have to add stubs on all the old ones :GWthedarthTohruShrug: sounds pretty terrible could make one implementation that just has stubs for all the functions that way you can just embed that and override the functions that version supports i think we can do better ah yeah thats getting better yup much less boilerplate @_diamondburned_ i read the other day about it https://dev.to/chromadream/comment/b8o2 https://dev.to/kataras/comment/b91d yeah?w what about it? @superloach this guy handled it in an intersting way by translating between versions https://github.com/ShadowJonathan/MOpher check protocol and protocol/lib directories packets as interfaces doesnt sound like fun the more that i think about it hm to be fair i dont like the translation idea either kinda wanna pick my project back up but my dad is pressuring me to finish his discord bot ?ï¿½ï¿½ is your project on github? https://github.com/superloach/farcemint again I didn't get very far a lot of stuff needs to be cleaned up there's missing pieces on a lot of the types especially probably gonna restructure when I come back to it but that was my attempt lol also no clue why it's in gpl I should switch it to mit and yes I'm also aware that my logger is bad lol im always grateful to look around and find some inspiration thanks for sharing ?ï¿½ï¿½ï¿½ no prob lol ive been using https://github.com/JackGameer/gomc theres stuff in there that would be useful server side as well oh neat i think ive got something working here... i made a simple test setup with 3 protocol versions 1 and 2 have different fields and version three just embeds v1 and modifies it,,,1,0,0,1,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,1360,20,2020-06-18T11:53:13.059000,"Hey guys sorry to spam with trivial questions but I cannot figure out how to fit this json into a slice of structs```type OwnedToyData struct { Dead bool `json:""dead""` Name string `json:""display_name""` Durability uint8 `json:""durability""` Stars uint8 `json:""stars""`}``` JSON: ```{""owned_toys"": [{""dead"": false display_name"": Teddy durability"": 100 stars"": 1} {""dead"": false display_name"": Jack durability"": 50 stars"": 2}]}```( i simplified the json to verify that it works but still cant get it to work properly)JSON string to slice of the structThe thing that throws me off is the `{""owned_toys"":` (I had to structure it this was) I get the `error json: cannot unmarshal object into Go value of type []toys.OwnedToyData` Its working perfectly now Good job! but once it clicks it's SUPER slick That'd be one way to do it If that OwnedToys key is static well yeah if it's not it's a bit more of a pain If the top level object has keys that are not fixed gotta use the map it sucks because the only way to easily get one of the interface{}s from the map into a struct is going back to json lol I haven't found a lib that directly does map[string]interface{} to struct types i mean the right way is to use Unmarshal() methods well yeah but that's not always easy perhaps a map[string]json.RawValue or whatever would work? I forget the type name something like that RawMessage excuse me Ive used map[string][]mystruct and it works flawlessly And I just got the slice that i need via the key and all good ah clever",,,0,1,1,0,0,0,0,,1,,,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2249,50,2020-04-24T18:29:12.847000,"How do I validate a range? For example if the input is `09` it's a valid range but if it's `721` it's invalid. Also if it's `az` or `dk` it's valid but if it's `za` it's invalid if statements Yes but do I have to hardcode it? The hardcoded way I have thought of was: `alphabet := abcdefgh...""` and then checking if `x` in `xy` is before or after `y` are you validating the something is in that range or are you validating the range itself? :GWchadThonkery: @johnM the range itself are you looking for regex a function or what @superloach after a lot of mucking about I think about as far as I can go wtih things is https://pastebin.com/DmRrA2Bm and type switch on the returned packets you could do it with any of those @mnhn I'm thinking of a good way to validate a range ï¿½ï¿½\\_(ï¿½ï¿½ï¿½)_/ï¿½ï¿½ if statements Yes but what do I check in if statements legit split on `` the..values :thonkcerned: Yes but what do I check them against? the input? the other value? so for I'd start by checking the edges and then validate that the internals match what you want Yes but how? if statements STRINGS.SPLIT see if the value given is outside the range of 0 to 9 `if x > z {}` @Str?ï¿½m @mnhn so that? https://discordapp.com/channels/118456055842734083/118456055842734083/703312155365081181 so if you know `a  z` is valid then check that the range input has an a at the beginning and a z at the end if not then you don't have to do anything else if it does then start going through the range :GWchadThinkeyes: @Str?ï¿½m oh didn't know I could do that. if statements with the value and the input Yeah now I get it. I didn't know I could compare letters directly. well of course you can im not sure why you wouldve thought otherwise Good to know that's useful. characters have order Well I have never had the need to do it before. I'm pretty sure you can do that in most/all languages Never had to do that in any language before. br0 just cast them to runes then to BigEndian encoded UTF16 and then compare them against the pointer value of a character location in a slices string the basics ?ï¿½ï¿½ï¿½ makes sense it helps to play around and test the limits of what you can do it just converts it to the ascii or rune i guess in this scenario and that is ordered the worst that happens is it doesn't work utf8 bois if statement are powerful I solved it by using a .netrc file When I do a `err := json.NewDecoder(r.Body).Decode(obj)` when I check for the err and it's not nil I want to return a bad request response but include the clients request body. Is there a clean way I can get back at the body now that it's been read? I like the simplicity of the `json.NewDecoder()` function over doing something like ```gobytebois err := ioutil.ReadAll()if err != nil { things}err = json.Unmarshal(bytebois obj)if err != nil { yet another error check render.Render(w r badReq(bytebois))}``` Can I have the reader read to two locations at once?",,,1,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2329,38,2020-04-26T22:26:00.123000,"Hi all! Go noob here working on a very basic http server using the `net` package for learning purposes. I have this method to read an incoming request:```gofunc request(conn net.Conn) { scanner := bufio.NewScanner(conn) separatorLine := true // continue after first empty line for scanner.Scan() { ln := scanner.Text() fmt.Println(ln) if ln ==  { if separatorLine { // check the next line it could contain body separatorLine = false continue } else { // Request is over break } } }}```Http leaves a blank line between the headers and the body my method reads all the way to the blank line and then just hangs forever. If I simply break at the blank line `if ln ==  { break; }` it breaks correctly and eventually return. If I remove the `if` statement altogether it also hangs.I\'m really confused as to what is going on here. I don\'t know if I\'m missing something obvious or if there\'s something non trivial happening in this loop. side note: you should check for errors from scanner There's really no need to unless you're looking for a specific error. If `Scan()` returns true the error is non`nil`. If it's false the loop will exit. `scanner.Err()` is nil but it doesn't report on `io.EOF`. I don't think it should be that though I'm sending this request:```POST / HTTP/1.1ContentType: text/plainContentLength: 15This is my body``` What exactly do you mean by the function hangs""? Does the loop continue forever? Does some function call block? try omitting the `continue`? @Carson the execution stops as if something was blocking. Omitting the `continue` also has the same result. This is the full code if anyone wants to try and run it:```gopackage mainimport ( bufio"" fmt"" log"" net"")func main() { ln err := net.Listen(""tcp :8080"") if err != nil { log.Fatalln(err) } addr := ln.Addr() fmt.Printf(""%v server listening on %v\ addr.Network() addr.String()) for { conn err := ln.Accept() if err != nil { fmt.Printf(""connection error: %v\ err) } defer ln.Close() go handler(conn) }}func handler(conn net.Conn) { defer func() { fmt.Println(""closing connection"") conn.Close() }() request(conn) response(conn)}func request(conn net.Conn) { scanner := bufio.NewScanner(conn) separatorLine := true // continue after first empty line for scanner.Scan() { ln := scanner.Text() fmt.Println(ln) if ln ==  { if separatorLine { // check the next line it could contain body separatorLine = false continue } else { // Request is over break } } }}func response(conn net.Conn) { body := Hello World!"" fmt.Fprint(conn HTTP/1.1 200 OK\\r\"") fmt.Fprintf(conn ContentLength: %d\\r\ len(body)) fmt.Fprint(conn ContentType: text/html\\r\"") fmt.Fprint(conn \\r\"") fmt.Fprint(conn body)}``` I'm asking you to figure out what's happening. ?ï¿½ï¿½ï¿½ Try to see what's actually going wrong within the function. Either the loop is going forever or a function call blocks but these are completely different scenarios. They may look the same from the caller of the function but in debugging it they're not. ah of course ?ï¿½ï¿½ï¿½ I've been running in the debugger and added a few print statements the function is definitely blocking. It never goes back to the beginning of the loop I\'m not sure what the function means. None Do you mean `request`? uh i'm doing something wrong to send a Discord webhook it returns me map[code:50006 message:Cannot send an empty message] so I gess there is something wrong with my message some could help me? @Carson aye sorry `func request` specifically it blocks where I am calling `continue` I'm not following. `continue` is inside of `request` but you're saying that `request` is blocking. You need to figure out what is happening inside of `request`; not from the perspective of the thing calling `request`. Is a specific function call inside of `request` blocking? Is the `for` loop running forever? sorry I realise I'm not expressing myself too well here. The for loop is not running forever: if I step into the debugger looking at the call stack I can see it stops at `internal/poll.runtime_pollWait` and that seems to be it. If I add a print statement at the top of the loop it is never reached once I past the empty line If I pause I can see that there's a lock: one of the local variables is `unlockf: runtime.netpollblockcommit` yo what the hell is this mess me too ```goletStmt ok := s.(ast.LetStatement)``` particularly the part in parens Itï¿½ï¿½ï¿½s a type assertion It asserts s into a ast.LetStatement yup Yes ok thanks So is that scan ever returning anything @Madxmike if I remove the `if` with the continue statement it returns just fine but I never get to read the body of the request. If I leave it in there or I remove the `if` statement that checks for the empty line (so I don\'t call `break`) the code just hangs (for lack of a better word). In other words this works:```gofunc request(conn net.Conn) { scanner := bufio.NewScanner(conn) separatorLine := true // continue after first empty line for scanner.Scan() { ln := scanner.Text() fmt.Println(ln) if ln ==  { break } }}```",,,0,1,0,0,0,0,0,,0,,,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,35,23,2020-08-02T01:30:31.549000,"any reason why i'd get back an empty byte array on a socket receive? i know the client is sending data and i've never ran into this while using sockets before and my 70% asleep brain can't figure it out lol What is a socket""? TCP UDP etc.? Are you checking the error on the read? tcp and i am yes Are you sure there's space in the slice that you're passing in on the `Read`? dets err := ioutil.ReadAll(conn) if err != nil { panic(err) } i also tried the more manual approach _ err = r.Read(sizeb) besizeb = binary.BigEndian.Uint32(sizeb) dets := make([]byte besizeb) _ err = io.ReadFull(r dets) if err != nil { log.Println(err) break } which is also giving me  Try using just a `Read` I'll bet you'll get an EOF in the error :p using a read means I need to have the size of the incoming data though yeah? unless i want to manage variablze sized chunks okay sec you're right in that i never checked the error of the r.read when I was doing it that way earlier okay you were right lol Yeah so the way I came to that conclusion is that `ReadAll` doesn't return an error on EOF because that's the only way it knows to stop readingï¿½ï¿½ï¿½it goes until EOF and if it's an EOF the error is `nil` At this point you know you're getting an EOF which could mean your client is closing the connection (FIN or RST) or that you're hitting your deadline; does it instantly return EOF or is it delayed? instantly i don't think the client is closing it prematurely or at all really Well there's a great way to find out: it's Wireshark time ?ï¿½ï¿½ï¿½ Find a packet set your conversation filter and it'll be super easy to see what's actually happening hours seems like a relatively short interval you\'re probably fine with having just a lone Ticker that fires off some UpdateCerts method",,,0,1,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2264,45,2020-04-25T05:14:32.266000,Is there anyway to maintain header order when doing a http request did a little research and seems that headers are sent using map[string] and these are not ordered https://github.com/golang/go/issues/24375#issuecomment378022533 doesnt seem like a way to do it thats not just replacing parts of the package feels xy but i dont know enough to day so ?ï¿½ï¿½ï¿½ Why do you want them to be ordered? What problem are you experiencing? because poorly behaved applications care about ordering the spec doesn't dictate ordering but lazy developers rely on it lazy/ignorant not necessarily it's entirely possible the service you're trying to interact with was written by someone who was but http headers are explicitly by definition a key:value structure order is irrelevant with the exception of...receiving duplicate keys in which case i believe the last provided key:value pair is the authoritative data if you need ordering because the API requires it it isn't your fault and if you want to something like print the headers out in alphabetical order for debug purposes just sort the map keys Hey guys im having an issue i wanna start a process and then stop it properly but `cmd` (`exec.Cmd`) becomes nil even though the process is running in the background i can upload the whole code if its of any help but i checked `pgrep Xvfb` and it is still running even though `cmd == nil` do you want to wait until its finished to continue? @Madxmike no its supposed to run in background but when i want to stop it the `cmd` is nil and i cannot can i dereference `cmd.Process` and keep it or something? so you want to be able to stop it at any time yeah use ExecuteContext and give it a context that you can cancel do you mean `CommandContext`? yeah that one thanks for the help ?ï¿½ï¿½ï¿½ when the context ends it will kill the process iirc ` The provided context is used to kill the process (by calling os.Process.Kill) if the context becomes done before the command completes on its own. ` yep go is gud deezy coming in with them hot takes if you read the docs and do what go wants you to at least does go have any sort of concept of lazy importing/function calls? if i have a struct like ```gotype Client struct { ... ws websocket.Conn rtc webrtc.PeerConnection}``` and i need to implement a `Close() error` method on it that would `Close()` both connections what would be the best way of returning the possible errors from them in one error?,,,0,0,0,0,0,1,0,,0,*answered but not acknowledged,,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,1060,4,2019-12-26T21:52:18.906000,Hey guys does anyone here have an example of using RSA Public Key and Private Key to encrypt and sign files? @trm217 don't roll your own digital signature scheme https://golang.org/pkg/crypto/ecdsa/ @bluefirecorp thank you I will check it out.,,,1,0,0,0,0,0,0,,0,,,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,35,40,2019-11-02T12:40:06.812000,anyone know any discord bots that can be used to monitor github organization repositories and what not for new commits pull requests etc.. I am working on a projcet where I need to create an admin dashboard but I can't decide between `httprouter` and `chi` for router framework . There area really lots of web frameworks out there. Any recommendations? for thsoe curious i found the answer https://support.discordapp.com/hc/enus/articles/228383668IntrotoWebhooks How good is goorm as an ORM engine? I am thinking of creating a database application in golang with postgres as db. What do you guys prefer Raw sql query or ORM such as goorm? SQL always SQL good ORM bad Anytime someone posts ORM based code here it's almost always longer and more complex than the SQL equivalent @Sgt_Tailor sure but still I need to do some stuff around since `go get` will try to acess watever fake adress I give it...```$ go get insecure gitea.local/fakinator000/repopackage gitea.local/fakinator000/repo: unrecognized import path gitea.local/fakinator000/repo (http/https fetch: Get http://gitea.local/fakinator000/repo?goget=1: dial tcp: lookup gitea.local: no such host)``` It shouldn't as it just invokes git iirc @Doad In Python it is always the other way around. Any specific reason. I believe orm makes code more readable. Of course that is my personal bias. @vaibhavjha I'd just use gopg its simple effective and performant I'm specifically talking about Go also acessing localhost:3000/fakinator000/repo?goget=1 gives the following result:``` go get insecure localhost:3000/fakinator000/repo ``` The SQL package is super simple Any Go ORM I've seen looks pretty bad I think most people here agree to use SQL instead of ORM only problem is you gotta close dem rows or it becomes shitshow in very small time also scanning is not very pleasant `defer row.Close()` `.Scan(&someVar)` It's not so bad struct scanning I mean It's the same? depending on how it's stored in the DB and you can implement the Scanner interface on types usually ends up in `Scan(&v1 &v2 &v3....)` If you're selecting several discreet values yeah Pretty sure you'd have to do something similar to retrieve several values with an ORM struct tags make life bit easier why would you need to scan multiple values for a struct? struct > json > db db > json > struct a single stored value @Sgt_Tailor I guess it checks if the URL I gave it is the same as the remote url... if I find a way to skip this check then I'm solved with this whole thingie And you can implement the Scanner interface on your type with a single method so you can handle the scan however you'd like If new and starting with Go should I use Go modules for new projects? @Huskey it shouldn't be as far as I know. I've used this trick to fetch a repo from an entirely different url before go modules were a thing @Sgt_Tailor modified the /etc/hosts file of my laptop it now contains a `127.0.0.1 arch.sus` entry running gitea on port 80 `go get` doesn't complain anymore ?ï¿½ï¿½ï¿½ I feel like I used a hammer to solve this...,,,1,0,0,0,0,0,0,,0,,,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,47,8,2019-11-03T01:27:20.127000,"what is the first value when doing a runtime assertion? ```goif v ok := k.(string); ok {  }``` what would v be? the new value of k as a string? ```golang...func NewContext(width height int) Context { dc := &Context{} dc.Width = width dc.Height = height dc.ColorBuffer = image.NewNRGBA(image.Rect(0 0 width height)) return dc}func SavePNG(path string im image.Image) error { file err := os.Create(path) if err != nil { return err } defer file.Close() return png.Encode(file im)}context := NewContext(widthscale heightscale)image := context.Image()SavePNG(""output.png image)``` @Lachee u can build it with `O0` CFLAG option which reduces compilation time afaik @Teddy strings is nothing more than pointer to allocated memory and its header. While some variable holds its pointer it are same string coolio thanks",,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,May2020-July2020,2020-05-01T06:31:06.560000,2020-07-31T23:58:55.917000,2566,50,2020-07-30T08:03:31.991000,"Morning in GoLand is there a way to generate comments similar to phpdoc by typing in / and clicking enter? I would assume that if there is GoLand should provide it. you don't generate those comments in Go there's no point `//` i use vimcommentary makes it really easy godoc already generates enough documentation that you would only use comments to state behaviors you want clarified and not obvious things How do I use godoc generate? hi! ```govar v compareVariables variableRead err := ioutil.ReadFile(""/home/ubuntu/savedState/ + symbol) if err != nil { errorLog.Println(fmt.Sprintf(""no file for variables: %v err)) v = variableInitialize() } else{ err = json.Unmarshal(variableRead &v) if err != nil { errorLog.Println(fmt.Sprintf(""unmarshaling error: %v err)) chanUnsubscribe < symbol return } }``` its going to the else statement here but i have no files of the sort so it hsould trigger the if is my logic here wrong? i mean one of your assumptions is wrong somewhere also you can just do `log.Printf(""unmarshalling error: %s err)` ah my b ill change that well i legit dont have any files in savedState yet it keeps trying to unmarshal so i get an unmarhslaing error cause there is nothign there okay so there's a difference between no file and an empty file ```goinvalid character E looking for beginning of value``` and i'm fairly sure you'd get an error if the file you're trying to open didn't exist thats the error yeah for unmarshaling The VsCode plugin keeps removing imports despite the fact that I'm using them how do I turn this off? so you're opening a file and it has stuff in it that isn't json how can i hceck if there is stuff in it yeah it returns an error if there isnt a file and that its json well you can do `cat link` oh my bad wel i would want it to returnt he err so it doesn't unmarshal let's take a step back and ask why this file has bad data in it thats the funy part it dotn dont even exist lmao i mean it does or you'd get an error from ReadFile `ls lah` and `cat` lemme check that out see wha ti get",,,1,0,0,0,0,1,0,,0,,,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,46,26,2019-11-02T23:58:47.358000,What're the effects of the `s` and `w` params passed into `ldflags` when running go build? Will it cause decreased performance or any issues? uhh s is strip symbols i believe not sure what w is but either way `ld help` or `man ld` documentation is your friend oh so `ldflags` feeds into `ld`? i mean break it down ld flags good point lmao thanks godspeed hrmm i was able to find docs for `s` in `man ld` but not `w` does `w` remove dwarf tables? i'll be damned it isn't there well now i'm the clown ?ï¿½ï¿½ï¿½ eh `s` was there so only half a clown? XD https://golang.org/cmd/link/ yup `w` is the DWARF symbol table good to know @deezy got ccache working. It doesnt save that much time but i guess any little bit helps. at least builds don't timeout anymore,,,0,0,0,0,1,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,68,3,2019-11-04T01:29:32.253000,does anyone know how to install a package from a repo branch other than main? or at least from a local repo? Go to the location in your gopath and switch its branch Oh,,,0,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Feb2020-Apr2020,2020-02-01T05:01:13.368000,2020-04-30T23:48:53.870000,2451,84,2020-04-30T18:39:13.448000,"Is this casting?```go for _ fieldErr := range err.(validator.ValidationErrors) {```The `err.(validator.ValidationErrors) ` part looks like a type assertion Ohh OK. Ahh Oright. Thanks guys ?ï¿½ï¿½ï¿½ I\'m generating custom error slice:```gofunc create(err validator.FieldError) map[string]string { errorMap := map[string]string{} errorMap[""field""] = err.Field() errorMap[""condition""] = err.ActualTag() return errorMap}func Generate(errors validator.ValidationErrors) []map[string]string { var generated []map[string]string for _ err := range errors { g := create(err) generated = append(generated g) } return generated}```Problem is that for some (probs clear reason) they are not in order```json[ { condition"": required"", field"": firstName"" }, { condition"": required"", field"": lastName"" }, { condition"": required"", field"": address"" } ]````field` should be before `condition` i mean Ahh go maps wont maintain insertion order it's just being sorted lexicographically Thanks the whole concept of map doesnt have order dont work with it expecting it to have one maps are unordered lexical order is just for display purposes Yeah makes sense. ï¿½ï¿½ï¿½ is using lua for config files a bad idea yes https://stackoverflow.com/questions/5969417/whyisitabadideatowriteconfigurationdataincode yeah i thought so but also i wanted to do some fancy things like have variables in config files and math also the main code would be in Go > variables in the config file there are options for that but sounds weird to give context its a discord bot but i want it to be easily configurable and for exmaple if they want an info command they might want to get the version of the bot and stuff like that i'm not sure where a variable comes in though in the config file yaml maybe? ~~jsonx~~ the way i wouldve done it in lua is like make a lua instance then do like `VERSION=""1.2.3""` then run all the code in the file wait no not jsonx right but like jsonnet the bot version is available in your app code already so...why does the config file need to reference it? you're going fromapp > config file > app alternatively the version is in the config file which means it's already there and you don't need a variable for example if they wanted info command they would do like bot is running ${VERSION} .... well sure let the user provide format strings ```versionMessage = thanks for using botName ver. ( %s )""``` and render that in your go app is there anyhting in Go that will automatically do that for json strings isnt it `\\+` or something for json strings? I don't think so could use text/template lol if it is between  it shows it as an error yes ?ï¿½ï¿½ï¿½ that was my next idea I will try between `` to match a literal `+` in a regexp use `\\+` or `[+]` you should use \\`\\` almost always ```versionMessage = thanks for using botName ver. {{ .Version }}""``` for regex and yes for regular expressions you should always use backtick strings i will use text template then yes it works like that thanks guys can gomaxprocs be set in a string like 1""/""2 Or does that cause issues on some go versions i mean what's the type of the variable environment var uh not quite https://golang.org/pkg/runtime/#GOMAXPROCS `func GOMAXPROCS(n int) int` it's pretty unambiguous or does it have to be set explicitly at runtime ah i see okay well env vars are always strings oh it doesn't matter what they represent they're strings gotcha thnx ^_^ same way `""1""` is a string even though it ostensibly represents a number",,,0,1,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,92,10,2019-11-05T04:34:06.183000,does net/http automatically decompress a gzipped http response body? I see `Uncompressed` is on the response but I am unsure if gzip is supported or not re: <https://golang.org/pkg/net/http/#Response> Maybe it follows the contentencoding header and decompresses accordingly? it looks like <https://golang.org/pkg/net/http/#Transport> handles it for me yes I think it does automatically decompresses gzip I will tias https://golang.org/src/net/http/transport.go#L173 ah so I just don't set the header alright thanks ï¿½ï¿½ï¿½,,,0,0,0,0,1,0,0,,1,,,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Discord Gophers,golang,Nov2019-Jan2020,2019-11-01T04:49:13.533000,2020-01-30T23:59:44.864000,231,37,2019-11-13T07:41:23.040000,"Hi! I have identical struct `A` & `B`. How can I convert pointer to `A` to pointer to `B`? @Lncn the runtime doesn't detect stale goroutines as there isn't an easy way for it to do so properly if they're the same named type it'd be `A = B` I think Doing what you mentioned causes what is referred to as a goroutine leak @Jake not same named. Full example:```gopackage mainimport ( fmt"")type A struct { num int}type B struct { num int}func main() { var a = []A{&A{1} &A{2}} var b = []B{} for _ v := range a { b = append(b v) // What will I do here? } fmt.Printf(""A is %#v\ a) fmt.Printf(""A is %#v\ b)}```<https://play.golang.org/p/eAP2HVYlqtt> You can probably use some unsafe pointer magic. But this seems like an xy problem Why would you need this functionality? There is some attempt to broke static types checking in existing app. It have abstract DB handler as interface and method that accept options:```gotype Options struct {/.../}type DBHandler interface { Find(filter interface{} opts ...Options)}```And I want to write implementation for this interface. And `Options` the same as MongoDB's Options objects from driver. I want to pass this `Options` directly to MongoDB's driver. Yes I think directly pass pointers is not good idea. But what I can do in this case? In loop create new MongoDB's options object and try to copy from app's options field to field? because if they are the same just implementing the `Find` method that accepts the same types of arguments will be enough to satisfy the interface No it same but defined in different programs. App's Options user's app and MongoDB's Options in MongoDB's driver. I think when App was created developeer means thant MongoDB will be main db handler implementation make api mongodblike and just copy structs. this sounds like you want to use the MongoDB struct directly Do you mean that I must redefine app's options as interface?```gotype Options interface {}/.../type DBHandler interface {Find{filter interface{} opts ...Options)}```And MongoDB's options can be passed directly? like `opt := mongodb.Options{Num: 5}` (example obv idk what the package is actually named) or you could type alias it `type Options = mongodb.Options` No I cant use alias because it will create explicin dependency on mongo package. ah I think I might've misunderstood so you're trying to create a generic DB interface and mongodb is one of the DBs that could be used? When I take conversation here I'm alreare misunderstood too ?ï¿½ï¿½ï¿½ @Jake yes! DB Handler must be generic db interface and MongoDB one of implementations. ah okay gotcha ?ï¿½ï¿½ï¿½ how big is the options struct? as in how many fields? So In generic interface defined Options struct. There is ~5 different strcucts for diff methods and all of them are small. May be just copy is the best solution. yeah if they're small I would honestly just go with a big switch statement personally and manually assign the fields Yes. I think now that use unsafe pointers that was my first idea is not good solution. If mongodb's driver will change in the future i will have a lot of dance. Ok just copy. Thanks for help. Alone can't think propertly ?ï¿½ï¿½ï¿½ np good luck! would it be possible to somehow not rely on a specific options struct or perhaps define an options struct that you could use with the generic driver and write helper conversion funcs from db specific options to that generic struct @awoo yes. may be better in this case use gereric options in handler and write helper to each implementation. My first wish do less work is incorect. I think writing conversions for each implementation is way more scalable than switch statements thanks a lot good luck! weird you'd think the compiler would optimise that away as it's dead code but maybe not",,,1,0,0,0,0,1,0,,1,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1758,19,2020-09-25T07:26:56.604000,structure method must start with upper case if i want to export it ? Hello is it possible to create a map of structure ``` map[int]array of time.Time ``` and the array will look like this Yes it is ``` [time.Time float64] ``` No its not Lol Well not without losing type safety You generally cant mix types in a slice You can use a struct So a slice of structs containing a time.Time and a float actualy if i think about it it will be enough to do it like this map[int]time.Time so it will look like this ``` map[float64] time.Time ``` but how do i declare it because i can't do ``` values := map[int]time.Time ``` https://tour.golang.org/moretypes/19,,,0,0,0,0,1,0,0,,0,,,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1780,10,2020-09-25T20:44:06.016000,"what's the point of using maps? but you could still do `[2]string{}` right? thank you > `listen localhost:51081 127.0.0.1:51081:` why 2 :think:@Str?ï¿½m hmm the error is coming from lspnet.ListenUDP `s := lspnet.JoinHostPort(""localhost strconv.Itoa(port))` nvm i got it than u k thank ",,,0,0,0,0,1,0,0,,1,,,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Discord Gophers,golang,Aug2020-Sep2020,2020-08-01T00:01:15.595000,2020-09-30T18:25:55.416000,1845,21,2020-09-28T12:45:26.734000,Is it that important to follow the go project structure for a small project ? it's useful to stop you from trying to do nongo stuff in go What even is ï¿½ï¿½ï¿½the go project structureï¿½ï¿½ï¿½? Flat is justice for small projects https://github.com/golangstandards/projectlayout this I mean thatï¿½ï¿½ï¿½s just like a collection of ï¿½ï¿½ï¿½a bunch of people use this folderï¿½ï¿½ï¿½ Thereï¿½ï¿½ï¿½s no like official project layout The only folder that is special is internal and vendor Maybe not official but common/best practices still exists I guess I donï¿½ï¿½ï¿½t even think itï¿½ï¿½ï¿½s that lol Itï¿½ï¿½ï¿½s more of ï¿½ï¿½ï¿½hey this is a common folder name and this is what itï¿½ï¿½ï¿½s used forï¿½ï¿½ï¿½ Like ï¿½ï¿½ï¿½cmdï¿½ï¿½ï¿½ Not ï¿½ï¿½ï¿½use this folder names and conventionsï¿½ï¿½ï¿½ nobody's going to come after you for not following that layout Anyways for small projects just throw everything into a single directory and when you start needing to separate things so so but it's ended up being on average the nicest to work with in go A lot of people look at that repo and think they need every one of those folders Like this is a JavaScript framework lol Yeah i think i'll stick to something minimal for now start with a single flat package,,,1,0,0,0,0,0,0,,1,,,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0